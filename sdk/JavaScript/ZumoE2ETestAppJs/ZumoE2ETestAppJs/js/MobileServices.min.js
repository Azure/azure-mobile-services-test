//! Copyright (c) Microsoft Corporation. All rights reserved. AzureMobileServices v1.2.8
!function(global){function require(name){name&&name.length>2&&"."==name[0]&&"/"==name[1]&&(name=name.slice(2));var existing=$__modules__[name];if("function"==typeof existing){var exports={};return $__modules__[name]=exports,existing(exports),exports}if("object"==typeof existing)return existing;throw"Unknown module "+name}var $__fileVersion__="1.2.8",$__modules__={};$__modules__.Extensions=function(exports){function classOf(value){return Object.prototype.toString.call(value).slice(8,-1).toLowerCase()}var Validate=require("Validate"),Platform=require("Platform"),_=exports;exports.isNull=function(value){return null===value||void 0===value},exports.isNullOrZero=function(value){return null===value||void 0===value||0===value||""===value},exports.isNullOrEmpty=function(value){return _.isNull(value)||0===value.length},exports.format=function(message){if(Validate.isString(message,"message"),!_.isNullOrEmpty(message)&&arguments.length>1)for(var i=1;i<arguments.length;i++)for(var pattern="{"+(i-1)+"}";-1!==message.indexOf(pattern);)message=message.replace(pattern,arguments[i]);return message},exports.has=function(value,key){return Validate.notNull(key,"key"),Validate.isString(key,"key"),!_.isNull(value)&&value.hasOwnProperty(key)},exports.hasProperty=function(object,properties){for(var i=0;i<properties.length;i++)if(_.has(object,properties[i]))return!0;return!1},exports.extend=function(target,members){for(var member in members)members.hasOwnProperty(member)&&(target[member]=members[member]);return target},exports.isObject=function(value){return _.isNull(value)||"object"==typeof value&&!_.isDate(value)},exports.isValidId=function(value){if(_.isNullOrZero(value))return!1;if(_.isString(value)){if(0===value.length||value.length>255||0===value.trim().length)return!1;var ex=/[+"\/?`\\]|[\u0000-\u001F]|[\u007F-\u009F]|^\.{1,2}$/;return null!==value.match(ex)?!1:!0}return _.isNumber(value)?value>0:!1},exports.isString=function(value){return _.isNull(value)||"string"==typeof value},exports.isNumber=function(value){return!_.isNull(value)&&"number"==typeof value},exports.isBool=function(value){return!_.isNull(value)&&"boolean"==typeof value},exports.isDate=function(value){return!_.isNull(value)&&"date"==classOf(value)},exports.toJson=function(value){return Platform.toJson(value)},exports.fromJson=function(value){var jsonValue=null;return _.isNullOrEmpty(value)||(jsonValue=JSON.parse(value,function(k,v){if(_.isString(v)&&!_.isNullOrEmpty(v)){var date=exports.tryParseIsoDateString(v);if(!_.isNull(date))return date}return v})),jsonValue},exports.createUniqueInstallationId=function(){var pad4=function(str){return"0000".substring(str.length)+str},hex4=function(){return pad4(Math.floor(65536*Math.random()).toString(16))};return hex4()+hex4()+"-"+hex4()+"-"+hex4()+"-"+hex4()+"-"+hex4()+hex4()+hex4()},exports.mapProperties=function(instance,action){var results=[];if(!_.isNull(instance)){var key=null;for(key in instance)results.push(action(key,instance[key]))}return results},exports.pad=function(value,length,ch){Validate.notNull(value,"value"),Validate.isInteger(length,"length"),Validate.isString(ch,"ch"),Validate.notNullOrEmpty(ch,"ch"),Validate.length(ch,1,"ch");for(var text=value.toString();text.length<length;)text=ch+text;return text},exports.trimEnd=function(text,ch){Validate.isString(text,"text"),Validate.notNull(text,"text"),Validate.isString(ch,"ch"),Validate.notNullOrEmpty("ch","ch"),Validate.length(ch,1,"ch");for(var end=text.length-1;end>=0&&text[end]===ch;)end--;return end>=0?text.substr(0,end+1):""},exports.trimStart=function(text,ch){Validate.isString(text,"text"),Validate.notNull(text,"text"),Validate.isString(ch,"ch"),Validate.notNullOrEmpty(ch,"ch"),Validate.length(ch,1,"ch");for(var start=0;start<text.length&&text[start]===ch;)start++;return start<text.length?text.substr(start,text.length-start):""},exports.compareCaseInsensitive=function(first,second){return _.isString(first)&&!_.isNullOrEmpty(first)&&(first=first.toUpperCase()),_.isString(first)&&!_.isNullOrEmpty(second)&&(second=second.toUpperCase()),first===second},exports.url={separator:"/",combinePathSegments:function(){var segments=[],i=0;for(Validate.notNullOrEmpty(arguments,"arguments"),i=0;i<arguments.length;i++){var segment=arguments[i];Validate.isString(segment,_.format("argument[{0}]",i)),0!==i&&(segment=_.trimStart(segment||"",_.url.separator)),i<arguments.length-1&&(segment=_.trimEnd(segment||"",_.url.separator)),segments.push(segment)}return segments.reduce(function(a,b){return a+_.url.separator+b})},getQueryString:function(parameters){Validate.notNull(parameters,"parameters"),Validate.isObject(parameters,"parameters");var pairs=[];for(var parameter in parameters){var value=parameters[parameter];exports.isObject(value)&&(value=exports.toJson(value)),pairs.push(encodeURIComponent(parameter)+"="+encodeURIComponent(value))}return pairs.join("&")},combinePathAndQuery:function(path,queryString){return Validate.notNullOrEmpty(path,"path"),Validate.isString(path,"path"),_.isNullOrEmpty(queryString)?path:(Validate.isString(queryString,"queryString"),path.indexOf("?")>=0?path+"&"+exports.trimStart(queryString,"?"):path+"?"+exports.trimStart(queryString,"?"))},isAbsoluteUrl:function(url){if(_.isNullOrEmpty(url))return!1;var start=url.substring(0,7).toLowerCase();return"http://"==start||"https:/"==start}},exports.tryParseIsoDateString=function(text){return Platform.tryParseIsoDateString(text)},exports.createError=function(exceptionOrMessage,request){var error={message:Platform.getResourceString("Extensions_DefaultErrorMessage")};if(error.toString=function(){return error.message},request)if(error.request=request,0===request.status)error.message=Platform.getResourceString("Extensions_ConnectionFailureMessage");else{var isText=!1;if(request.getResponseHeader){var contentType=request.getResponseHeader("Content-Type");contentType&&(isText=contentType.toLowerCase().indexOf("text")>=0)}try{var response=JSON.parse(request.responseText);"string"==typeof response?error.message=response:error.message=response.error||response.description||request.statusText||Platform.getResourceString("Extensions_DefaultErrorMessage")}catch(ex){isText?error.message=request.responseText:error.message=request.statusText||Platform.getResourceString("Extensions_DefaultErrorMessage")}}else _.isString(exceptionOrMessage)&&!_.isNullOrEmpty(exceptionOrMessage)?error.message=exceptionOrMessage:_.isNull(exceptionOrMessage)||(error.exception=exceptionOrMessage);return error}},$__modules__.MobileServiceClient=function(exports){function MobileServiceClient(applicationUrl,gatewayUrl,applicationKey){Validate.isString(applicationUrl,"applicationUrl"),Validate.notNullOrEmpty(applicationUrl,"applicationUrl"),Validate.isString(applicationKey,"applicationKey"),this.applicationUrl=applicationUrl,this.applicationKey=applicationKey||null,this.gatewayUrl=gatewayUrl||null;var sdkInfo=Platform.getSdkInfo(),osInfo=Platform.getOperatingSystemInfo(),sdkVersion=sdkInfo.fileVersion.split(".").slice(0,2).join(".");this.version="ZUMO/"+sdkVersion+" (lang="+sdkInfo.language+"; os="+osInfo.name+"; os_version="+osInfo.version+"; arch="+osInfo.architecture+"; version="+sdkInfo.fileVersion+")",this.currentUser=null,this._serviceFilter=null,this._login=new MobileServiceLogin(this),this.getTable=function(tableName){return Validate.isString(tableName,"tableName"),Validate.notNullOrEmpty(tableName,"tableName"),new MobileServiceTable(tableName,this)},Push&&(this.push=new Push(this,MobileServiceClient._applicationInstallationId))}function getApplicationInstallationId(){var applicationInstallationId=null,path="MobileServices.Installation.config",contents=Platform.readSetting(path);if(!_.isNull(contents))try{var config=_.fromJson(contents);applicationInstallationId=config.applicationInstallationId}catch(ex){}if(_.isNullOrEmpty(applicationInstallationId)){applicationInstallationId=_.createUniqueInstallationId();var configText=_.toJson({applicationInstallationId:applicationInstallationId});Platform.writeSetting(path,configText)}return applicationInstallationId}var Push,_=require("Extensions"),Validate=require("Validate"),Platform=require("Platform"),MobileServiceTable=require("MobileServiceTable").MobileServiceTable,MobileServiceLogin=require("MobileServiceLogin").MobileServiceLogin;try{Push=require("Push").Push}catch(e){}var _zumoFeatures={JsonApiCall:"AJ",GenericApiCall:"AG",AdditionalQueryParameters:"QS",OptimisticConcurrency:"OC",TableRefreshCall:"RF",TableReadRaw:"TR",TableReadQuery:"TQ"},_zumoFeaturesHeaderName="X-ZUMO-FEATURES";exports.MobileServiceClient=MobileServiceClient,Platform.addToMobileServicesClientNamespace({MobileServiceClient:MobileServiceClient}),MobileServiceClient.prototype.withFilter=function(serviceFilter){Validate.notNull(serviceFilter,"serviceFilter");var client=new MobileServiceClient(this.applicationUrl,this.gatewayUrl,this.applicationKey);client.currentUser=this.currentUser;var existingFilter=this._serviceFilter;return client._serviceFilter=_.isNull(existingFilter)?serviceFilter:function(req,next,callback){var composed=function(req,callback){existingFilter(req,next,callback)};serviceFilter(req,composed,callback)},client},MobileServiceClient.prototype._request=function(method,uriFragment,content,ignoreFilters,headers,features,callback){_.isNull(callback)&&"function"==typeof features&&(callback=features,features=null),_.isNull(callback)&&"function"==typeof headers&&(callback=headers,headers=null),_.isNull(callback)&&"function"==typeof ignoreFilters&&(callback=ignoreFilters,ignoreFilters=!1),_.isNull(callback)&&"function"==typeof content&&(callback=content,content=null),Validate.isString(method,"method"),Validate.notNullOrEmpty(method,"method"),Validate.isString(uriFragment,"uriFragment"),Validate.notNull(uriFragment,"uriFragment"),Validate.notNull(callback,"callback");var options={type:method.toUpperCase()};_.url.isAbsoluteUrl(uriFragment)?options.url=uriFragment:options.url=_.url.combinePathSegments(this.applicationUrl,uriFragment),options.headers={},_.isNull(headers)||_.extend(options.headers,headers),options.headers["X-ZUMO-INSTALLATION-ID"]=MobileServiceClient._applicationInstallationId,_.isNullOrEmpty(this.applicationKey)||(options.headers["X-ZUMO-APPLICATION"]=this.applicationKey),this.currentUser&&!_.isNullOrEmpty(this.currentUser.mobileServiceAuthenticationToken)&&(options.headers["X-ZUMO-AUTH"]=this.currentUser.mobileServiceAuthenticationToken),_.isNull(MobileServiceClient._userAgent)||(options.headers["User-Agent"]=MobileServiceClient._userAgent),_.isNullOrEmpty["X-ZUMO-VERSION"]||(options.headers["X-ZUMO-VERSION"]=this.version),_.isNull(options.headers[_zumoFeaturesHeaderName])&&features&&features.length&&(options.headers[_zumoFeaturesHeaderName]=features.join(",")),_.isNull(content)?options.data=null:(_.isString(content)?options.data=content:options.data=_.toJson(content),_.hasProperty(options.headers,["Content-Type","content-type","CONTENT-TYPE","Content-type"])||(options.headers["Content-Type"]="application/json"));var handler=function(error,response){_.isNull(error)?!_.isNull(response)&&(response.status>=400||0===response.status)&&(error=_.createError(null,response),response=null):error=_.createError(error),callback(error,response)};_.isNull(this._serviceFilter)||ignoreFilters?Platform.webRequest(options,handler):this._serviceFilter(options,Platform.webRequest,handler)},MobileServiceClient.prototype.loginWithOptions=Platform.async(function(provider,options,callback){this._login.loginWithOptions(provider,options,callback)}),MobileServiceClient.prototype.login=Platform.async(function(provider,token,useSingleSignOn,callback){this._login.login(provider,token,useSingleSignOn,callback)}),MobileServiceClient.prototype.logout=function(){this.currentUser=null},MobileServiceClient.prototype.invokeApi=Platform.async(function(apiName,options,callback){Validate.isString(apiName,"apiName"),_.isNull(callback)&&"function"==typeof options&&(callback=options,options=null),Validate.notNull(callback,"callback");var parameters,method,body,headers;_.isNull(options)||(parameters=options.parameters,_.isNull(parameters)||Validate.isValidParametersObject(options.parameters),method=options.method,body=options.body,headers=options.headers),headers=headers||{},_.isNull(method)&&(method="POST"),_.isNull(headers.accept)&&(headers.accept="application/json");var urlFragment=_.url.combinePathSegments("api",apiName);if(!_.isNull(parameters)){var queryString=_.url.getQueryString(parameters);urlFragment=_.url.combinePathAndQuery(urlFragment,queryString)}var features=[];_.isNullOrEmpty(body)||features.push(_.isString(body)?_zumoFeatures.GenericApiCall:_zumoFeatures.JsonApiCall),_.isNull(parameters)||features.push(_zumoFeatures.AdditionalQueryParameters),this._request(method,urlFragment,body,null,headers,features,function(error,response){if(_.isNull(error)){var contentType;if("undefined"!=typeof response.getResponseHeader&&(contentType=response.getResponseHeader("Content-Type")),contentType)-1!==contentType.toLowerCase().indexOf("json")&&(response.result=_.fromJson(response.responseText));else try{response.result=_.fromJson(response.responseText)}catch(e){}callback(null,response)}else callback(error,null)})}),MobileServiceClient._applicationInstallationId=getApplicationInstallationId(),MobileServiceClient._userAgent=Platform.getUserAgent(),MobileServiceClient._zumoFeatures=_zumoFeatures},$__modules__.MobileServiceTable=function(exports){function MobileServiceTable(tableName,client){this.getTableName=function(){return tableName},this.getMobileServiceClient=function(){return client},this.systemProperties=0}function removeSystemProperties(instance){var copy={};for(var property in instance)"__"!==property.substr(0,2)&&(copy[property]=instance[property]);return copy}function addSystemProperties(parameters,properties,querystring){if(properties===MobileServiceSystemProperties.None||"string"==typeof querystring&&querystring.toLowerCase().indexOf("__systemproperties")>=0)return parameters;if(parameters=parameters||{},!_.isNull(parameters.__systemProperties))return parameters;if(properties===MobileServiceSystemProperties.All)parameters.__systemProperties="*";else{var options=[];MobileServiceSystemProperties.CreatedAt&properties&&options.push(MobileServiceSystemColumns.CreatedAt),MobileServiceSystemProperties.UpdatedAt&properties&&options.push(MobileServiceSystemColumns.UpdatedAt),MobileServiceSystemProperties.Version&properties&&options.push(MobileServiceSystemColumns.Version),parameters.__systemProperties=options.join(",")}return parameters}function getItemFromResponse(response){var result=_.fromJson(response.responseText);if(response.getResponseHeader){var eTag=response.getResponseHeader("ETag");_.isNullOrEmpty(eTag)||(result.__version=getVersionFromEtag(eTag))}return result}function setServerItemIfPreconditionFailed(error){error.request&&412===error.request.status&&(error.serverInstance=_.fromJson(error.request.responseText))}function getEtagFromVersion(version){var result=version.replace(/\"/g,'\\"');return'"'+result+'"'}function getVersionFromEtag(etag){var len=etag.length,result=etag;return len>1&&'"'===etag[0]&&'"'===etag[len-1]&&(result=etag.substr(1,len-2)),result.replace(/\\\"/g,'"')}function addQueryParametersFeaturesIfApplicable(features,userQueryParameters){var hasQueryParameters=!1;if(userQueryParameters)if(Array.isArray(userQueryParameters))hasQueryParameters=userQueryParameters.length>0;else if(_.isObject(userQueryParameters))for(var k in userQueryParameters){hasQueryParameters=!0;break}return hasQueryParameters&&features.push(WindowsAzure.MobileServiceClient._zumoFeatures.AdditionalQueryParameters),features}var _=require("Extensions"),Validate=require("Validate"),Platform=require("Platform"),Query=require("Query").Query,idPropertyName="id",tableRouteSeperatorName="tables",idNames=["ID","Id","id","iD"],nextLinkRegex=/^(.*?);\s*rel\s*=\s*(\w+)\s*$/,MobileServiceSystemProperties={None:0,CreatedAt:1,UpdatedAt:2,Version:4,All:65535},MobileServiceSystemColumns={CreatedAt:"__createdAt",UpdatedAt:"__updatedAt",Version:"__version"};Platform.addToMobileServicesClientNamespace({MobileServiceTable:{SystemProperties:MobileServiceSystemProperties}}),exports.MobileServiceTable=MobileServiceTable,MobileServiceTable.prototype._read=function(query,parameters,callback){_.isNull(callback)&&(_.isNull(parameters)&&"function"==typeof query?(callback=query,query=null,parameters=null):"function"==typeof parameters&&(callback=parameters,parameters=null,!_.isNull(query)&&_.isObject(query)&&!_.isString(query)&&_.isNull(query.toOData)&&(parameters=query,query=null))),query&&_.isString(query)&&Validate.notNullOrEmpty(query,"query"),_.isNull(parameters)||Validate.isValidParametersObject(parameters,"parameters"),Validate.notNull(callback,"callback");var tableName=this.getTableName(),queryString=null,projection=null,features=[];if(_.isString(query))queryString=query,_.isNullOrEmpty(query)||features.push(WindowsAzure.MobileServiceClient._zumoFeatures.TableReadRaw);else if(_.isObject(query)&&!_.isNull(query.toOData)&&query.getComponents){features.push(WindowsAzure.MobileServiceClient._zumoFeatures.TableReadQuery);var components=query.getComponents();if(projection=components.projection,components.table){if(tableName!==components.table){var message=_.format(Platform.getResourceString("MobileServiceTable_ReadMismatchedQueryTables"),tableName,components.table);return void callback(_.createError(message),null)}var oDataQuery=query.toOData();queryString=oDataQuery.replace(new RegExp("^/"+components.table),"")}}if(addQueryParametersFeaturesIfApplicable(features,parameters),parameters=addSystemProperties(parameters,this.systemProperties,queryString),!_.isNull(parameters)){var userDefinedQueryString=_.url.getQueryString(parameters);_.isNullOrEmpty(queryString)?queryString=userDefinedQueryString:queryString+="&"+userDefinedQueryString}var urlFragment=queryString;_.url.isAbsoluteUrl(urlFragment)||(urlFragment=_.url.combinePathSegments(tableRouteSeperatorName,tableName),_.isNull(queryString)||(urlFragment=_.url.combinePathAndQuery(urlFragment,queryString))),this.getMobileServiceClient()._request("GET",urlFragment,null,!1,null,features,function(error,response){var values=null;if(_.isNull(error)){if(values=_.fromJson(response.responseText),values&&!Array.isArray(values)&&"undefined"!=typeof values.count&&"undefined"!=typeof values.results&&(values.results.totalCount=values.count,values=values.results),null!==projection){var i=0;for(i=0;i<values.length;i++)values[i]=projection.call(values[i])}if(Array.isArray(values)&&response.getResponseHeader&&_.isNull(values.nextLink))try{var link=response.getResponseHeader("Link");if(!_.isNullOrEmpty(link)){var result=nextLinkRegex.exec(link);result&&3===result.length&&"next"==result[2]&&(values.nextLink=result[1])}}catch(ex){}}callback(error,values)})},MobileServiceTable.prototype.read=Platform.async(MobileServiceTable.prototype._read),MobileServiceTable.prototype.insert=Platform.async(function(instance,parameters,callback){_.isNull(callback)&&"function"==typeof parameters&&(callback=parameters,parameters=null),Validate.notNull(instance,"instance"),_.isNull(parameters)||Validate.isValidParametersObject(parameters),Validate.notNull(callback,"callback");for(var i in idNames){var id=instance[idNames[i]];if(!_.isNullOrZero(id)){if(!_.isString(id))throw _.format(Platform.getResourceString("MobileServiceTable_InsertIdAlreadySet"),idPropertyName);if(idNames[i]!==idPropertyName)throw _.format(Platform.getResourceString("MobileServiceTable_InsertIdAlreadySet"),idPropertyName);Validate.isValidId(id,idPropertyName)}}var features=addQueryParametersFeaturesIfApplicable([],parameters),urlFragment=_.url.combinePathSegments(tableRouteSeperatorName,this.getTableName());if(parameters=addSystemProperties(parameters,this.systemProperties),!_.isNull(parameters)){var queryString=_.url.getQueryString(parameters);urlFragment=_.url.combinePathAndQuery(urlFragment,queryString)}this.getMobileServiceClient()._request("POST",urlFragment,instance,!1,null,features,function(error,response){if(_.isNull(error)){var result=getItemFromResponse(response);result=Platform.allowPlatformToMutateOriginal(instance,result),callback(null,result)}else callback(error,null)})}),MobileServiceTable.prototype.update=Platform.async(function(instance,parameters,callback){var version,serverInstance,headers={},features=[];_.isNull(callback)&&"function"==typeof parameters&&(callback=parameters,parameters=null),Validate.notNull(instance,"instance"),Validate.isValidId(instance[idPropertyName],"instance."+idPropertyName),_.isNull(parameters)||Validate.isValidParametersObject(parameters,"parameters"),Validate.notNull(callback,"callback"),_.isString(instance[idPropertyName])?(version=instance.__version,serverInstance=removeSystemProperties(instance)):serverInstance=instance,_.isNullOrEmpty(version)||(headers["If-Match"]=getEtagFromVersion(version),features.push(WindowsAzure.MobileServiceClient._zumoFeatures.OptimisticConcurrency)),features=addQueryParametersFeaturesIfApplicable(features,parameters),parameters=addSystemProperties(parameters,this.systemProperties);var urlFragment=_.url.combinePathSegments(tableRouteSeperatorName,this.getTableName(),encodeURIComponent(instance[idPropertyName].toString()));if(!_.isNull(parameters)){var queryString=_.url.getQueryString(parameters);urlFragment=_.url.combinePathAndQuery(urlFragment,queryString)}this.getMobileServiceClient()._request("PATCH",urlFragment,serverInstance,!1,headers,features,function(error,response){if(_.isNull(error)){var result=getItemFromResponse(response);result=Platform.allowPlatformToMutateOriginal(instance,result),callback(null,result)}else setServerItemIfPreconditionFailed(error),callback(error)})}),MobileServiceTable.prototype.refresh=Platform.async(function(instance,parameters,callback){if(_.isNull(callback)&&"function"==typeof parameters&&(callback=parameters,parameters=null),Validate.notNull(instance,"instance"),!_.isValidId(instance[idPropertyName],idPropertyName)){if("string"==typeof instance[idPropertyName]&&""!==instance[idPropertyName])throw _.format(Platform.getResourceString("Validate_InvalidId"),idPropertyName);return void callback(null,instance)}_.isNull(parameters)||Validate.isValidParametersObject(parameters,"parameters"),Validate.notNull(callback,"callback");var urlFragment=_.url.combinePathSegments(tableRouteSeperatorName,this.getTableName());if("string"==typeof instance[idPropertyName]){var id=encodeURIComponent(instance[idPropertyName]).replace(/\'/g,"%27%27");urlFragment=_.url.combinePathAndQuery(urlFragment,"?$filter=id eq '"+id+"'")}else urlFragment=_.url.combinePathAndQuery(urlFragment,"?$filter=id eq "+encodeURIComponent(instance[idPropertyName].toString()));if(!_.isNull(parameters)){var queryString=_.url.getQueryString(parameters);urlFragment=_.url.combinePathAndQuery(urlFragment,queryString)}var features=[WindowsAzure.MobileServiceClient._zumoFeatures.TableRefreshCall];features=addQueryParametersFeaturesIfApplicable(features,parameters),this.getMobileServiceClient()._request("GET",urlFragment,instance,!1,null,features,function(error,response){if(_.isNull(error)){var result=_.fromJson(response.responseText);if(Array.isArray(result)&&(result=result[0]),!result){var message=_.format(Platform.getResourceString("MobileServiceTable_NotSingleObject"),idPropertyName);callback(_.createError(message),null)}result=Platform.allowPlatformToMutateOriginal(instance,result),callback(null,result)}else callback(error,null)})}),MobileServiceTable.prototype.lookup=Platform.async(function(id,parameters,callback){_.isNull(callback)&&"function"==typeof parameters&&(callback=parameters,parameters=null),Validate.isValidId(id,idPropertyName),_.isNull(parameters)||Validate.isValidParametersObject(parameters),Validate.notNull(callback,"callback");var urlFragment=_.url.combinePathSegments(tableRouteSeperatorName,this.getTableName(),encodeURIComponent(id.toString())),features=addQueryParametersFeaturesIfApplicable([],parameters);if(parameters=addSystemProperties(parameters,this.systemProperties),!_.isNull(parameters)){var queryString=_.url.getQueryString(parameters);urlFragment=_.url.combinePathAndQuery(urlFragment,queryString)}this.getMobileServiceClient()._request("GET",urlFragment,null,!1,null,features,function(error,response){if(_.isNull(error)){var result=getItemFromResponse(response);callback(null,result)}else callback(error,null)})}),MobileServiceTable.prototype.del=Platform.async(function(instance,parameters,callback){_.isNull(callback)&&"function"==typeof parameters&&(callback=parameters,parameters=null),Validate.notNull(instance,"instance"),Validate.isValidId(instance[idPropertyName],"instance."+idPropertyName),Validate.notNull(callback,"callback");var headers={},features=[];_.isString(instance[idPropertyName])&&(_.isNullOrEmpty(instance.__version)||(headers["If-Match"]=getEtagFromVersion(instance.__version),features.push(WindowsAzure.MobileServiceClient._zumoFeatures.OptimisticConcurrency))),features=addQueryParametersFeaturesIfApplicable(features,parameters),parameters=addSystemProperties(parameters,this.systemProperties),_.isNull(parameters)||Validate.isValidParametersObject(parameters);var urlFragment=_.url.combinePathSegments(tableRouteSeperatorName,this.getTableName(),encodeURIComponent(instance[idPropertyName].toString()));if(!_.isNull(parameters)){var queryString=_.url.getQueryString(parameters);urlFragment=_.url.combinePathAndQuery(urlFragment,queryString)}this.getMobileServiceClient()._request("DELETE",urlFragment,null,!1,headers,features,function(error,response){_.isNull(error)||setServerItemIfPreconditionFailed(error),callback(error)})});for(var queryOperators=["where","select","orderBy","orderByDescending","skip","take","includeTotalCount"],copyOperator=function(operator){MobileServiceTable.prototype[operator]=function(){var table=this,query=new Query(table.getTableName());return query.read=Platform.async(function(parameters,callback){table._read(query,parameters,callback)}),query[operator].apply(query,arguments)}},i=0;i<queryOperators.length;i++)copyOperator(queryOperators[i])},$__modules__.MobileServiceLogin=function(exports){function MobileServiceLogin(client,ignoreFilters){_.isNull(ignoreFilters)&&(ignoreFilters=!0),Validate.notNull(client),Validate.isObject(client,"client"),this._loginState={inProcess:!1,cancelCallback:null},this.ignoreFilters=ignoreFilters,this.getMobileServiceClient=function(){return client},this.getLoginInProcess=function(){return this._loginState.inProcess}}function onLoginComplete(error,token,client,callback){var user=null;_.isNull(error)&&(!_.isNull(token)&&_.isObject(token)&&_.isObject(token.user)&&_.isString(token.authenticationToken)?(client.currentUser=token.user,client.currentUser.mobileServiceAuthenticationToken=token.authenticationToken,user=client.currentUser):error=Platform.getResourceString("MobileServiceLogin_InvalidResponseFormat")),_.isNull(callback)||callback(error,user)}function onLoginResponse(error,response,client,callback){var mobileServiceToken=null;if(_.isNull(error))try{mobileServiceToken=_.fromJson(response.responseText)}catch(e){error=e}onLoginComplete(error,mobileServiceToken,client,callback)}function loginWithProviderAndToken(login,provider,token,parameters,callback){var client=login.getMobileServiceClient();login._loginState={inProcess:!0,cancelCallback:null};var url=loginUrl+"/"+provider;if(!_.isNull(parameters)){var queryString=_.url.getQueryString(parameters);url=_.url.combinePathAndQuery(url,queryString)}client._request("POST",url,token,login.ignoreFilters,function(error,response){login._loginState={inProcess:!1,cancelCallback:null},onLoginResponse(error,response,client,callback)})}function loginWithLoginControl(login,provider,useSingleSignOn,parameters,callback){var client=login.getMobileServiceClient(),startUri=_.url.combinePathSegments(client.gatewayUrl||client.applicationUrl,loginUrl,provider),endUri=null;if(!_.isNull(parameters)){var queryString=_.url.getQueryString(parameters);startUri=_.url.combinePathAndQuery(startUri,queryString)}useSingleSignOn||(endUri=_.url.combinePathSegments(client.gatewayUrl||client.applicationUrl,loginUrl,loginDone)),login._loginState={inProcess:!0,cancelCallback:null};var platformResult=Platform.login(startUri,endUri,function(error,mobileServiceToken){login._loginState={inProcess:!1,cancelCallback:null},onLoginComplete(error,mobileServiceToken,client,callback)});login._loginState.inProcess&&platformResult&&platformResult.cancelCallback&&(login._loginState.cancelCallback=platformResult.cancelCallback)}var _=require("Extensions"),Validate=require("Validate"),Platform=require("Platform"),loginUrl="login",loginDone="done";exports.MobileServiceLogin=MobileServiceLogin,Platform.addToMobileServicesClientNamespace({MobileServiceLogin:MobileServiceLogin}),MobileServiceLogin.prototype.loginWithOptions=function(provider,options,callback){Validate.isString(provider,"provider"),Validate.notNull(provider,"provider"),_.isNull(callback)&&(_.isNull(options)||"function"!=typeof options?Validate.notNull(null,"callback"):(callback=options,options=null)),!options&&this._isAuthToken(provider)?this.loginWithMobileServiceToken(provider,callback):(options=options||{},this.loginWithProvider(provider,options.token,options.useSingleSignOn,options.parameters,callback))},MobileServiceLogin.prototype.login=function(provider,token,useSingleSignOn,callback){_.isNull(callback)&&(_.isNull(useSingleSignOn)||"function"!=typeof useSingleSignOn?_.isNull(token)||"function"!=typeof token||(callback=token,useSingleSignOn=null,token=null):(callback=useSingleSignOn,useSingleSignOn=null)),_.isNull(useSingleSignOn)&&(_.isBool(token)?(useSingleSignOn=token,token=null):useSingleSignOn=!1),_.isNull(token)&&this._isAuthToken(provider)&&(token=provider,provider=null),_.isNull(provider)&&(Validate.notNull(token),Validate.isString(token)),_.isNull(token)&&(Validate.notNull(provider),Validate.isString(provider),provider=provider.toLowerCase()),_.isNull(provider)?this.loginWithMobileServiceToken(token,callback):("windowsazureactivedirectory"===provider.toLowerCase()&&(provider="aad"),this.loginWithProvider(provider,token,useSingleSignOn,{},callback))},MobileServiceLogin.prototype._isAuthToken=function(value){return value&&_.isString(value)&&3===value.split(".").length},MobileServiceLogin.prototype.loginWithMobileServiceToken=function(authenticationToken,callback){var self=this,client=self.getMobileServiceClient();Validate.isString(authenticationToken,"authenticationToken"),Validate.notNullOrEmpty(authenticationToken,"authenticationToken"),client._request("POST",loginUrl,{authenticationToken:authenticationToken},self.ignoreFilters,function(error,response){onLoginResponse(error,response,client,callback)})},MobileServiceLogin.prototype.loginWithProvider=function(provider,token,useSingleSignOn,parameters,callback){if(Validate.isString(provider,"provider"),_.isNull(token)||Validate.isObject(token,"token"),this._loginState.inProcess){var didCancel=this._loginState.cancelCallback&&this._loginState.cancelCallback();if(!didCancel)throw Platform.getResourceString("MobileServiceLogin_LoginErrorResponse")}provider=provider.toLowerCase(),_.isNull(token)?loginWithLoginControl(this,provider,useSingleSignOn,parameters,callback):loginWithProviderAndToken(this,provider,token,parameters,callback)}},$__modules__.Push=function(exports){function Push(client,installationId){this.client=client,this.installationId=installationId}function executeRequest(client,method,pushChannel,content,installationId,callback){Validate.isString(pushChannel,"pushChannel"),Validate.notNullOrEmpty(pushChannel,"pushChannel"),client._request(method,"push/installations/"+encodeURIComponent(installationId),content,null,{"If-Modified-Since":"Mon, 27 Mar 1972 00:00:00 GMT"},callback)}function stringifyTemplateBodies(templates){var result={};for(var templateName in templates)if(templates.hasOwnProperty(templateName)){
var template=_.extend({},templates[templateName]);"string"!=typeof template.body&&(template.body=JSON.stringify(template.body)),result[templateName]=template}return result}var Validate=require("Validate"),Platform=require("Platform"),_=require("Extensions");exports.Push=Push,Push.prototype.register=Platform.async(function(platform,pushChannel,templates,secondaryTiles,callback){Validate.isString(platform,"platform"),Validate.notNullOrEmpty(platform,"platform"),_.isNull(callback)&&"function"==typeof templates&&(callback=templates,templates=null),_.isNull(callback)&&"function"==typeof secondaryTiles&&(callback=secondaryTiles,secondaryTiles=null);var requestContent={installationId:this.installationId,pushChannel:pushChannel,platform:platform,templates:stringifyTemplateBodies(templates),secondaryTiles:stringifyTemplateBodies(secondaryTiles)};executeRequest(this.client,"PUT",pushChannel,requestContent,this.installationId,callback)}),Push.prototype.unregister=Platform.async(function(pushChannel,callback){executeRequest(this.client,"DELETE",pushChannel,null,this.installationId,callback)})},$__modules__.Validate=function(exports){var _=require("Extensions"),Platform=require("Platform");exports.notNull=function(value,name){if(_.isNull(value))throw _.format(Platform.getResourceString("Validate_NotNullError"),name||"Value")},exports.notNullOrEmpty=function(value,name){if(_.isNullOrEmpty(value))throw _.format(Platform.getResourceString("Validate_NotNullOrEmptyError"),name||"Value")},exports.notNullOrZero=function(value,name){if(_.isNullOrZero(value))throw _.format(Platform.getResourceString("Validate_NotNullOrEmptyError"),name||"Value")},exports.isValidId=function(value,name){if(!_.isValidId(value))throw _.format(Platform.getResourceString("Validate_InvalidId"),name||"id")},exports.isDate=function(value,name){if(exports.notNull(value,name),!_.isDate(value))throw _.format(Platform.getResourceString("Validate_TypeCheckError"),name||"Value","Date",typeof value)},exports.isNumber=function(value,name){if(exports.notNull(value,name),!_.isNumber(value))throw _.format(Platform.getResourceString("Validate_TypeCheckError"),name||"Value","Number",typeof value)},exports.isValidParametersObject=function(value,name){exports.notNull(value,name),exports.isObject(value,name);for(var parameter in value)if(0===parameter.indexOf("$"))throw _.format(Platform.getResourceString("Validate_InvalidUserParameter"),name,parameter)},exports.isInteger=function(value,name){if(exports.notNull(value,name),exports.isNumber(value,name),parseInt(value,10)!==parseFloat(value))throw _.format(Platform.getResourceString("Validate_TypeCheckError"),name||"Value","number",typeof value)},exports.isString=function(value,name){if(!_.isString(value))throw _.format(Platform.getResourceString("Validate_TypeCheckError"),name||"Value","string",typeof value)},exports.isObject=function(value,name){if(!_.isObject(value))throw _.format(Platform.getResourceString("Validate_TypeCheckError"),name||"Value","object",typeof value)},exports.isArray=function(value,name){if(!Array.isArray(value))throw _.format(Platform.getResourceString("Validate_TypeCheckError"),name||"Value","array",typeof value)},exports.length=function(value,length,name){if(exports.notNull(value,name),exports.isInteger(length,"length"),value.length!==length)throw _.format(Platform.getResourceString("Validate_LengthUnexpected"),name||"Value",length,value.length)}},$__modules__.JavaScript=function(exports){(function(){var JS,JavaScript,JavaScriptToQueryVisitor,PartialEvaluator,esprima;esprima=require("esprima"),JS=require("./JavaScriptNodes"),PartialEvaluator=require("./PartialEvaluator").PartialEvaluator,JavaScriptToQueryVisitor=require("./JavaScriptToQueryVisitor").JavaScriptToQueryVisitor,exports.JavaScript=JavaScript=function(){function JavaScript(){}return JavaScript.transformConstraint=function(func,env){var context,translator;return context=JavaScript.getExpression(func,env),context.expression=PartialEvaluator.evaluate(context),translator=new JavaScriptToQueryVisitor(context),translator.visit(context.expression)},JavaScript.getProjectedFields=function(func){return[]},JavaScript.getExpression=function(func,env){var environment,expr,i,name,names,program,source,_i,_len,_ref,_ref1,_ref10,_ref11,_ref12,_ref13,_ref2,_ref3,_ref4,_ref5,_ref6,_ref7,_ref8,_ref9;if(source="var _$$_stmt_$$_ = "+func+";",program=esprima.parse(source,{range:!0}),expr="Program"===(null!=program?program.type:void 0)&&1===(null!=program&&null!=(_ref=program.body)?_ref.length:void 0)&&"VariableDeclaration"===(null!=(_ref1=program.body[0])?_ref1.type:void 0)&&1===(null!=(_ref2=program.body[0])&&null!=(_ref3=_ref2.declarations)?_ref3.length:void 0)&&"VariableDeclarator"===(null!=(_ref4=program.body[0].declarations[0])?_ref4.type:void 0)&&"FunctionExpression"===(null!=(_ref5=program.body[0].declarations[0])&&null!=(_ref6=_ref5.init)?_ref6.type:void 0)&&"BlockStatement"===(null!=(_ref7=program.body[0].declarations[0].init)&&null!=(_ref8=_ref7.body)?_ref8.type:void 0)&&1===(null!=(_ref9=program.body[0].declarations[0].init.body)&&null!=(_ref10=_ref9.body)?_ref10.length:void 0)&&"ReturnStatement"===(null!=(_ref11=program.body[0].declarations[0].init.body.body[0])?_ref11.type:void 0)&&(null!=(_ref12=program.body[0].declarations[0].init.body.body[0])?_ref12.argument:void 0),!expr)throw"Expected a predicate with a single return statement, not "+func;if(names=null!=(_ref13=program.body[0].declarations[0].init.params)?_ref13.map(function(p){return p.name}):void 0,names.length>env.length)throw"Expected value(s) for parameter(s) "+names.slice(env.length);if(env.length>names.length)throw"Expected parameter(s) for value(s) "+env.slice(names.length);for(environment={},i=_i=0,_len=names.length;_len>_i;i=++_i)name=names[i],environment[name]=env[i];return{source:source,expression:expr,environment:environment}},JavaScript}()}).call(this)},$__modules__.JavaScriptNodes=function(exports){(function(){var ArrayExpression,ArrayPattern,AssignmentExpression,BinaryExpression,BlockStatement,BreakStatement,CallExpression,CatchClause,ConditionalExpression,ContinueStatement,DebuggerStatement,Declaration,DoWhileStatement,EmptyStatement,Expression,ExpressionStatement,ForInStatement,ForStatement,Function,FunctionDeclaration,FunctionExpression,Identifier,IfStatement,JavaScriptNode,JavaScriptVisitor,LabeledStatement,Literal,LogicalExpression,MemberExpression,NewExpression,Node,ObjectExpression,ObjectPattern,Pattern,Program,ReturnStatement,SequenceExpression,Statement,SwitchCase,SwitchStatement,ThisExpression,ThrowStatement,TryStatement,UnaryExpression,UpdateExpression,VariableDeclaration,VariableDeclarator,Visitor,WhileStatement,WithStatement,_ref,__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};_ref=require("./Node"),Node=_ref.Node,Visitor=_ref.Visitor,exports.JavaScriptNode=JavaScriptNode=function(_super){function JavaScriptNode(){JavaScriptNode.__super__.constructor.call(this)}return __extends(JavaScriptNode,_super),JavaScriptNode}(Node),exports.JavaScriptVisitor=JavaScriptVisitor=function(_super){function JavaScriptVisitor(){JavaScriptVisitor.__super__.constructor.call(this)}return __extends(JavaScriptVisitor,_super),JavaScriptVisitor.prototype.JavaScriptNode=function(node){return node},JavaScriptVisitor}(Visitor),exports.Program=Program=function(_super){function Program(elements){this.elements=elements,Program.__super__.constructor.call(this)}return __extends(Program,_super),Program}(JavaScriptNode),JavaScriptVisitor.prototype.Program=function(node){return node=this.JavaScriptNode(node),node.elements=this.visit(node.elements),node},exports.Function=Function=function(_super){function Function(id,params,body){this.id=id,this.params=params,this.body=body,Function.__super__.constructor.call(this)}return __extends(Function,_super),Function}(JavaScriptNode),JavaScriptVisitor.prototype.Function=function(node){return node=this.JavaScriptNode(node),node.id=this.visit(node.id),node.params=this.visit(node.params),node.body=this.visit(node.body),node},exports.Statement=Statement=function(_super){function Statement(){Statement.__super__.constructor.call(this)}return __extends(Statement,_super),Statement}(JavaScriptNode),JavaScriptVisitor.prototype.Statement=function(node){return node=this.JavaScriptNode(node)},exports.EmptyStatement=EmptyStatement=function(_super){function EmptyStatement(){EmptyStatement.__super__.constructor.call(this)}return __extends(EmptyStatement,_super),EmptyStatement}(JavaScriptNode),JavaScriptVisitor.prototype.EmptyStatement=function(node){return node=this.JavaScriptNode(node)},exports.BlockStatement=BlockStatement=function(_super){function BlockStatement(body){this.body=body,BlockStatement.__super__.constructor.call(this)}return __extends(BlockStatement,_super),BlockStatement}(Statement),JavaScriptVisitor.prototype.BlockStatement=function(node){return node=this.Statement(node),node.body=this.visit(node.body),node},exports.ExpressionStatement=ExpressionStatement=function(_super){function ExpressionStatement(){ExpressionStatement.__super__.constructor.call(this)}return __extends(ExpressionStatement,_super),ExpressionStatement}(Statement),JavaScriptVisitor.prototype.ExpressionStatement=function(node){return node=this.Statement(node)},exports.IfStatement=IfStatement=function(_super){function IfStatement(test,consequent,alternate){this.test=test,this.consequent=consequent,this.alternate=alternate,IfStatement.__super__.constructor.call(this)}return __extends(IfStatement,_super),IfStatement}(Statement),JavaScriptVisitor.prototype.IfStatement=function(node){return node=this.Statement(node),node.test=this.visit(node.test),node.consequent=this.visit(node.consequent),node.alternate=this.visit(node.alternate),node},exports.LabeledStatement=LabeledStatement=function(_super){function LabeledStatement(label,body){this.label=label,this.body=body,LabeledStatement.__super__.constructor.call(this)}return __extends(LabeledStatement,_super),LabeledStatement}(Statement),JavaScriptVisitor.prototype.LabeledStatement=function(node){return node=this.Statement(node),node.label=this.visit(node.label),node.body=this.visit(node.body),node},exports.BreakStatement=BreakStatement=function(_super){function BreakStatement(label){this.label=label,BreakStatement.__super__.constructor.call(this)}return __extends(BreakStatement,_super),BreakStatement}(Statement),JavaScriptVisitor.prototype.BreakStatement=function(node){return node=this.Statement(node),node.label=this.visit(node.label),node},exports.ContinueStatement=ContinueStatement=function(_super){function ContinueStatement(label){this.label=label,ContinueStatement.__super__.constructor.call(this)}return __extends(ContinueStatement,_super),ContinueStatement}(Statement),JavaScriptVisitor.prototype.ContinueStatement=function(node){return node=this.Statement(node),node.label=this.visit(node.label),node},exports.WithStatement=WithStatement=function(_super){function WithStatement(object,body){this.object=object,this.body=body,WithStatement.__super__.constructor.call(this)}return __extends(WithStatement,_super),WithStatement}(Statement),JavaScriptVisitor.prototype.WithStatement=function(node){return node=this.Statement(node),node.object=this.visit(node.object),node.body=this.visit(node.body),node},exports.SwitchStatement=SwitchStatement=function(_super){function SwitchStatement(discriminant,cases){this.discriminant=discriminant,this.cases=cases,SwitchStatement.__super__.constructor.call(this)}return __extends(SwitchStatement,_super),SwitchStatement}(Statement),JavaScriptVisitor.prototype.SwitchStatement=function(node){return node=this.Statement(node),node.discriminant=this.visit(node.discriminant),node.cases=this.visit(node.cases),node},exports.ReturnStatement=ReturnStatement=function(_super){function ReturnStatement(argument){this.argument=argument,ReturnStatement.__super__.constructor.call(this)}return __extends(ReturnStatement,_super),ReturnStatement}(Statement),JavaScriptVisitor.prototype.ReturnStatement=function(node){return node=this.Statement(node),node.argument=this.visit(node.argument),node},exports.ThrowStatement=ThrowStatement=function(_super){function ThrowStatement(argument){this.argument=argument,ThrowStatement.__super__.constructor.call(this)}return __extends(ThrowStatement,_super),ThrowStatement}(Statement),JavaScriptVisitor.prototype.ThrowStatement=function(node){return node=this.Statement(node),node.argument=this.visit(node.argument),node},exports.TryStatement=TryStatement=function(_super){function TryStatement(block,handlers,finalizer){this.block=block,this.handlers=handlers,this.finalizer=finalizer,TryStatement.__super__.constructor.call(this)}return __extends(TryStatement,_super),TryStatement}(Statement),JavaScriptVisitor.prototype.TryStatement=function(node){return node=this.Statement(node),node.block=this.visit(node.block),node.handlers=this.visit(node.handlers),node.finalizer=this.visit(node.finalizer),node},exports.WhileStatement=WhileStatement=function(_super){function WhileStatement(test,body){this.test=test,this.body=body,WhileStatement.__super__.constructor.call(this)}return __extends(WhileStatement,_super),WhileStatement}(Statement),JavaScriptVisitor.prototype.WhileStatement=function(node){return node=this.Statement(node),node.test=this.visit(node.test),node.body=this.visit(node.body),node},exports.DoWhileStatement=DoWhileStatement=function(_super){function DoWhileStatement(body,test){this.body=body,this.test=test,DoWhileStatement.__super__.constructor.call(this)}return __extends(DoWhileStatement,_super),DoWhileStatement}(Statement),JavaScriptVisitor.prototype.DoWhileStatement=function(node){return node=this.Statement(node),node.body=this.visit(node.body),node.test=this.visit(node.test),node},exports.ForStatement=ForStatement=function(_super){function ForStatement(init,test,update,body){this.init=init,this.test=test,this.update=update,this.body=body,ForStatement.__super__.constructor.call(this)}return __extends(ForStatement,_super),ForStatement}(Statement),JavaScriptVisitor.prototype.ForStatement=function(node){return node=this.Statement(node),node.init=this.visit(node.init),node.test=this.visit(node.test),node.update=this.visit(node.update),node.body=this.visit(node.body),node},exports.ForInStatement=ForInStatement=function(_super){function ForInStatement(left,right,body){this.left=left,this.right=right,this.body=body,ForInStatement.__super__.constructor.call(this)}return __extends(ForInStatement,_super),ForInStatement}(Statement),JavaScriptVisitor.prototype.ForInStatement=function(node){return node=this.Statement(node),node.left=this.visit(node.left),node.right=this.visit(node.right),node.body=this.visit(node.body),node},exports.DebuggerStatement=DebuggerStatement=function(_super){function DebuggerStatement(){DebuggerStatement.__super__.constructor.call(this)}return __extends(DebuggerStatement,_super),DebuggerStatement}(Statement),JavaScriptVisitor.prototype.DebuggerStatement=function(node){return node=this.Statement(node)},exports.Declaration=Declaration=function(_super){function Declaration(){Declaration.__super__.constructor.call(this)}return __extends(Declaration,_super),Declaration}(Statement),JavaScriptVisitor.prototype.Declaration=function(node){return node=this.Statement(node)},exports.FunctionDeclaration=FunctionDeclaration=function(_super){function FunctionDeclaration(id,params,body){this.id=id,this.params=params,this.body=body,FunctionDeclaration.__super__.constructor.call(this)}return __extends(FunctionDeclaration,_super),FunctionDeclaration}(Declaration),JavaScriptVisitor.prototype.FunctionDeclaration=function(node){return node=this.Declaration(node),node.id=this.visit(node.id),node.params=this.visit(node.params),node.body=this.visit(node.body),node},exports.VariableDeclaration=VariableDeclaration=function(_super){function VariableDeclaration(declarations,kind){this.declarations=declarations,this.kind=kind,VariableDeclaration.__super__.constructor.call(this)}return __extends(VariableDeclaration,_super),VariableDeclaration}(Declaration),JavaScriptVisitor.prototype.VariableDeclaration=function(node){return node=this.Declaration(node),node.declarations=this.visit(node.declarations),node},exports.VariableDeclarator=VariableDeclarator=function(_super){function VariableDeclarator(id,init){this.id=id,this.init=init,VariableDeclarator.__super__.constructor.call(this)}return __extends(VariableDeclarator,_super),VariableDeclarator}(JavaScriptNode),JavaScriptVisitor.prototype.VariableDeclarator=function(node){return node=this.JavaScriptNode(node),node.id=this.visit(node.id),node.init=this.visit(node.init),node},exports.Expression=Expression=function(_super){function Expression(){return Expression.__super__.constructor.apply(this,arguments)}return __extends(Expression,_super),Expression.prototype.constuctor=function(){return Expression.__super__.constuctor.call(this)},Expression}(JavaScriptNode),JavaScriptVisitor.prototype.Expression=function(node){return node=this.JavaScriptNode(node)},exports.ThisExpression=ThisExpression=function(_super){function ThisExpression(){ThisExpression.__super__.constructor.call(this)}return __extends(ThisExpression,_super),ThisExpression}(Expression),JavaScriptVisitor.prototype.ThisExpression=function(node){return node=this.Expression(node)},exports.ArrayExpression=ArrayExpression=function(_super){function ArrayExpression(elements){this.elements=elements,ArrayExpression.__super__.constructor.call(this)}return __extends(ArrayExpression,_super),ArrayExpression}(Expression),JavaScriptVisitor.prototype.ArrayExpression=function(node){return node=this.Expression(node),node.elements=this.visit(node.elements),node},exports.ObjectExpression=ObjectExpression=function(_super){function ObjectExpression(properties){this.properties=properties,ObjectExpression.__super__.constructor.call(this)}return __extends(ObjectExpression,_super),ObjectExpression}(Expression),JavaScriptVisitor.prototype.ObjectExpression=function(node){var setter,_i,_len,_ref1;for(node=this.Expression(node),_ref1=node.properties,_i=0,_len=_ref1.length;_len>_i;_i++)setter=_ref1[_i],setter.key=this.visit(setter.key),setter.value=this.visit(setter.value);return node},exports.FunctionExpression=FunctionExpression=function(_super){function FunctionExpression(id,params,body){this.id=id,this.params=params,this.body=body,FunctionExpression.__super__.constructor.call(this)}return __extends(FunctionExpression,_super),FunctionExpression}(Expression),JavaScriptVisitor.prototype.FunctionExpression=function(node){return node=this.Expression(node),node.id=this.visit(node.id),node.params=this.visit(node.params),node.body=this.visit(node.body),node},exports.SequenceExpression=SequenceExpression=function(_super){function SequenceExpression(expressions){this.expressions=expressions,SequenceExpression.__super__.constructor.call(this)}return __extends(SequenceExpression,_super),SequenceExpression}(Expression),JavaScriptVisitor.prototype.SequenceExpression=function(node){return node=this.Expression(node),node.expressions=this.visit(node.expressions),node},exports.UnaryExpression=UnaryExpression=function(_super){function UnaryExpression(operator,prefix,argument){this.operator=operator,this.prefix=prefix,this.argument=argument,UnaryExpression.__super__.constructor.call(this)}return __extends(UnaryExpression,_super),UnaryExpression}(Expression),JavaScriptVisitor.prototype.UnaryExpression=function(node){return node=this.Expression(node),node.argument=this.visit(node.argument),node},exports.BinaryExpression=BinaryExpression=function(_super){function BinaryExpression(operator,left,right){this.operator=operator,this.left=left,this.right=right,BinaryExpression.__super__.constructor.call(this)}return __extends(BinaryExpression,_super),BinaryExpression}(Expression),JavaScriptVisitor.prototype.BinaryExpression=function(node){return node=this.Expression(node),node.left=this.visit(node.left),node.right=this.visit(node.right),node},exports.AssignmentExpression=AssignmentExpression=function(_super){function AssignmentExpression(operator,left,right){this.operator=operator,this.left=left,this.right=right,AssignmentExpression.__super__.constructor.call(this)}return __extends(AssignmentExpression,_super),AssignmentExpression}(Expression),JavaScriptVisitor.prototype.AssignmentExpression=function(node){return node=this.Expression(node),node.left=this.visit(node.left),node.right=this.visit(node.right),node},exports.UpdateExpression=UpdateExpression=function(_super){function UpdateExpression(operator,argument,prefix){this.operator=operator,this.argument=argument,this.prefix=prefix,UpdateExpression.__super__.constructor.call(this)}return __extends(UpdateExpression,_super),UpdateExpression}(Expression),JavaScriptVisitor.prototype.UpdateExpression=function(node){return node=this.Expression(node),node.argument=this.visit(node.argument),node},exports.LogicalExpression=LogicalExpression=function(_super){function LogicalExpression(operator,left,right){this.operator=operator,this.left=left,this.right=right,LogicalExpression.__super__.constructor.call(this)}return __extends(LogicalExpression,_super),LogicalExpression}(Expression),JavaScriptVisitor.prototype.LogicalExpression=function(node){return node=this.Expression(node),node.left=this.visit(node.left),node.right=this.visit(node.right),node},exports.ConditionalExpression=ConditionalExpression=function(_super){function ConditionalExpression(test,alternate,consequent){this.test=test,this.alternate=alternate,this.consequent=consequent,ConditionalExpression.__super__.constructor.call(this)}return __extends(ConditionalExpression,_super),ConditionalExpression}(Expression),JavaScriptVisitor.prototype.ConditionalExpression=function(node){return node=this.Expression(node),node.test=this.visit(node.test),node.alternate=this.visit(node.alternate),node.consequent=this.visit(node.consequent),node},exports.NewExpression=NewExpression=function(_super){function NewExpression(callee,_arguments){this.callee=callee,this.arguments=_arguments,NewExpression.__super__.constructor.call(this)}return __extends(NewExpression,_super),NewExpression}(Expression),JavaScriptVisitor.prototype.NewExpression=function(node){return node=this.Expression(node),node.callee=this.visit(node.callee),node.arguments=this.visit(node.arguments),node},exports.CallExpression=CallExpression=function(_super){function CallExpression(callee,_arguments){this.callee=callee,this.arguments=_arguments,CallExpression.__super__.constructor.call(this)}return __extends(CallExpression,_super),CallExpression}(Expression),JavaScriptVisitor.prototype.CallExpression=function(node){return node=this.Expression(node),node.callee=this.visit(node.callee),node.arguments=this.visit(node.arguments),node},exports.MemberExpression=MemberExpression=function(_super){function MemberExpression(object,property,computed){this.object=object,this.property=property,this.computed=computed,MemberExpression.__super__.constructor.call(this)}return __extends(MemberExpression,_super),MemberExpression}(Expression),JavaScriptVisitor.prototype.MemberExpression=function(node){return node=this.Expression(node),node.object=this.visit(node.object),node.property=this.visit(node.property),node},exports.Pattern=Pattern=function(_super){function Pattern(){Pattern.__super__.constructor.call(this)}return __extends(Pattern,_super),Pattern}(JavaScriptNode),JavaScriptVisitor.prototype.Pattern=function(node){return node=this.JavaScriptNode(node)},exports.ObjectPattern=ObjectPattern=function(_super){function ObjectPattern(properties){this.properties=properties,ObjectPattern.__super__.constructor.call(this)}return __extends(ObjectPattern,_super),ObjectPattern}(Pattern),JavaScriptVisitor.prototype.ObjectPattern=function(node){var setter,_i,_len,_ref1;for(node=this.Pattern(node),_ref1=node.properties,_i=0,_len=_ref1.length;_len>_i;_i++)setter=_ref1[_i],setter.key=this.visit(setter.key),setter.value=this.visit(setter.value);return node},exports.ArrayPattern=ArrayPattern=function(_super){function ArrayPattern(elements){this.elements=elements,ArrayPattern.__super__.constructor.call(this)}return __extends(ArrayPattern,_super),ArrayPattern}(Pattern),JavaScriptVisitor.prototype.ArrayPattern=function(node){return node=this.Pattern(node),node.elements=this.visit(node.elements),node},exports.SwitchCase=SwitchCase=function(_super){function SwitchCase(test,consequent){this.test=test,this.consequent=consequent,SwitchCase.__super__.constructor.call(this)}return __extends(SwitchCase,_super),SwitchCase}(JavaScriptNode),JavaScriptVisitor.prototype.SwitchCase=function(node){return node=this.JavaScriptNode(node),node.test=this.visit(node.test),node.consequent=this.visit(node.consequent),node},exports.CatchClause=CatchClause=function(_super){function CatchClause(param,body){this.param=param,this.body=body,CatchClause.__super__.constructor.call(this)}return __extends(CatchClause,_super),CatchClause}(JavaScriptNode),JavaScriptVisitor.prototype.CatchClause=function(node){return node=this.JavaScriptNode(node),node.param=this.visit(node.param),node.body=this.visit(node.body),node},exports.Identifier=Identifier=function(_super){function Identifier(name){this.name=name,Identifier.__super__.constructor.call(this)}return __extends(Identifier,_super),Identifier}(JavaScriptNode),JavaScriptVisitor.prototype.Identifier=function(node){return node=this.JavaScriptNode(node)},exports.Literal=Literal=function(_super){function Literal(value){this.value=value,Literal.__super__.constructor.call(this)}return __extends(Literal,_super),Literal}(Expression),JavaScriptVisitor.prototype.Literal=function(node){return node=this.Expression(node)}}).call(this)},$__modules__.JavaScriptToQueryVisitor=function(exports){(function(){var JS,JavaScriptToQueryVisitor,Q,_,__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};_=require("./Utilities"),JS=require("./JavaScriptNodes"),Q=require("./QueryNodes"),exports.JavaScriptToQueryVisitor=JavaScriptToQueryVisitor=function(_super){function JavaScriptToQueryVisitor(context){this.context=context}return __extends(JavaScriptToQueryVisitor,_super),JavaScriptToQueryVisitor.prototype.getSource=function(node){var _ref,_ref1;return this.context.source.slice(null!=node&&null!=(_ref=node.range)?_ref[0]:void 0,+((null!=node&&null!=(_ref1=node.range)?_ref1[1]:void 0)-1)+1||9e9)},JavaScriptToQueryVisitor.prototype.invalid=function(node){throw"The expression '"+this.getSource(node)+"'' is not supported."},JavaScriptToQueryVisitor.prototype.translateUnary=function(node,mapping){var op,value;return op=mapping[node.operator],op?(value=this.visit(node.argument),new Q.UnaryExpression(op,value)):null},JavaScriptToQueryVisitor.prototype.translateBinary=function(node,mapping){var left,op,right;return op=mapping[node.operator],op?(left=this.visit(node.left),right=this.visit(node.right),new Q.BinaryExpression(op,left,right)):null},JavaScriptToQueryVisitor.prototype.visit=function(node){var visited;return visited=JavaScriptToQueryVisitor.__super__.visit.call(this,node),node===visited&&this.invalid(node),visited},JavaScriptToQueryVisitor.prototype.MemberExpression=function(node){var expr;return expr=function(){var _ref,_ref1,_ref2,_ref3;return"ThisExpression"===(null!=node&&null!=(_ref=node.object)?_ref.type:void 0)&&"Identifier"===(null!=node&&null!=(_ref1=node.property)?_ref1.type:void 0)?new Q.MemberExpression(node.property.name):"MemberExpression"===(null!=node&&null!=(_ref2=node.object)?_ref2.type:void 0)&&"ThisExpression"===(null!=(_ref3=node.object.object)?_ref3.type:void 0)&&"Identifier"===node.property.type&&"length"===node.property.name?new Q.InvocationExpression(Q.Methods.Length,new Q.MemberExpression(node.object.property.name)):void 0}(),null!=expr?expr:JavaScriptToQueryVisitor.__super__.MemberExpression.call(this,node)},JavaScriptToQueryVisitor.prototype.Literal=function(node){return new Q.ConstantExpression(node.value)},JavaScriptToQueryVisitor.prototype.UnaryExpression=function(node){var mapping,_ref;return"+"===node.operator?this.visit(node.argument):(mapping={"!":Q.UnaryOperators.Not,"-":Q.UnaryOperators.Negate},null!=(_ref=this.translateUnary(node,mapping))?_ref:JavaScriptToQueryVisitor.__super__.UnaryExpression.call(this,node))},JavaScriptToQueryVisitor.prototype.UpdateExpression=function(node){var mapping,_ref;return mapping={"++":Q.UnaryOperators.Increment,"--":Q.UnaryOperators.Decrement},null!=(_ref=this.translateUnary(node,mapping))?_ref:JavaScriptToQueryVisitor.__super__.UpdateExpression.call(this,node)},JavaScriptToQueryVisitor.prototype.LogicalExpression=function(node){var mapping,_ref;return mapping={"&&":Q.BinaryOperators.And,"||":Q.BinaryOperators.Or},null!=(_ref=this.translateBinary(node,mapping))?_ref:JavaScriptToQueryVisitor.__super__.LogicalExpression.call(this,node)},JavaScriptToQueryVisitor.prototype.BinaryExpression=function(node){var k,left,mapping,properties,v,value,_ref;return mapping={"+":Q.BinaryOperators.Add,"-":Q.BinaryOperators.Subtract,"*":Q.BinaryOperators.Multiply,"/":Q.BinaryOperators.Divide,"%":Q.BinaryOperators.Modulo,">":Q.BinaryOperators.GreaterThan,">=":Q.BinaryOperators.GreaterThanOrEqual,"<":Q.BinaryOperators.LessThan,"<=":Q.BinaryOperators.LessThanOrEqual,"!=":Q.BinaryOperators.NotEqual,"!==":Q.BinaryOperators.NotEqual,"==":Q.BinaryOperators.Equal,"===":Q.BinaryOperators.Equal},function(){var _ref1,_ref2;return null!=(_ref=this.translateBinary(node,mapping))?_ref:"in"===node.operator&&"Literal"===(null!=(_ref1=node.right)?_ref1.type:void 0)&&_.isArray(null!=(_ref2=node.right)?_ref2.value:void 0)?node.right.value.length>0?(left=this.visit(node.left),Q.QueryExpression.groupClauses(Q.BinaryOperators.Or,function(){var _i,_len,_ref3,_results;for(_ref3=node.right.value,_results=[],_i=0,_len=_ref3.length;_len>_i;_i++){if(value=_ref3[_i],_.isObject(value)){if(properties=function(){var _results1;_results1=[];for(k in value)v=value[k],_results1.push(v);return _results1}(),1!==(null!=properties?properties.length:void 0))throw"in operator requires comparison objects with a single field, not "+value+" ("+JSON.stringify(value)+"), for expression '"+this.getSource(node)+"'";value=properties[0]}_results.push(new Q.BinaryExpression(Q.BinaryOperators.Equal,left,new Q.ConstantExpression(value)))}return _results}.call(this))):new Q.BinaryExpression(Q.BinaryOperators.Equal,new Q.ConstantExpression(!0),new Q.ConstantExpression(!1)):JavaScriptToQueryVisitor.__super__.BinaryExpression.call(this,node)}.call(this)},JavaScriptToQueryVisitor.prototype.CallExpression=function(node){var expr,func,getSingleArg,getTwoArgs,member,method,_ref;return getSingleArg=function(_this){return function(name){var _ref;if(1!==(null!=(_ref=node.arguments)?_ref.length:void 0))throw"Function "+name+" expects one argument in expression '"+_this.getSource(node)+"'";return _this.visit(node.arguments[0])}}(this),getTwoArgs=function(_this){return function(member,name){var _ref;if(2!==(null!=(_ref=node.arguments)?_ref.length:void 0))throw"Function "+name+" expects two arguments in expression '"+_this.getSource(node)+"'";return[member,_this.visit(node.arguments[0]),_this.visit(node.arguments[1])]}}(this),func=null!=node&&null!=(_ref=node.callee)?_ref.value:void 0,expr=function(){var _ref1,_ref2,_ref3,_ref4,_ref5,_ref6,_ref7;if(func===Math.floor)return new Q.InvocationExpression(Q.Methods.Floor,[getSingleArg("floor")]);if(func===Math.ceil)return new Q.InvocationExpression(Q.Methods.Ceiling,[getSingleArg("ceil")]);if(func===Math.round)return new Q.InvocationExpression(Q.Methods.Round,[getSingleArg("round")]);
if("MemberExpression"===node.callee.type&&(null!=(_ref1=node.callee.object)?_ref1.__hasThisExp:void 0)===!0){if(member="CallExpression"===(null!=node&&null!=(_ref2=node.callee)&&null!=(_ref3=_ref2.object)?_ref3.type:void 0)?this.visit(node.callee.object):new Q.MemberExpression(null!=(_ref4=node.callee.object)&&null!=(_ref5=_ref4.property)?_ref5.name:void 0),method=null!=(_ref6=node.callee)&&null!=(_ref7=_ref6.property)?_ref7.name:void 0,"toUpperCase"===method)return new Q.InvocationExpression(Q.Methods.ToUpperCase,[member]);if("toLowerCase"===method)return new Q.InvocationExpression(Q.Methods.ToLowerCase,[member]);if("trim"===method)return new Q.InvocationExpression(Q.Methods.Trim,[member]);if("indexOf"===method)return new Q.InvocationExpression(Q.Methods.IndexOf,[member,getSingleArg("indexOf")]);if("concat"===method)return new Q.InvocationExpression(Q.Methods.Concat,[member,getSingleArg("concat")]);if("substring"===method||"substr"===method)return new Q.InvocationExpression(Q.Methods.Substring,getTwoArgs(member,"substring"));if("replace"===method)return new Q.InvocationExpression(Q.Methods.Replace,getTwoArgs(member,"replace"));if("getFullYear"===method||"getUTCFullYear"===method)return new Q.InvocationExpression(Q.Methods.Year,[member]);if("getYear"===method)return new Q.BinaryExpression(Q.BinaryOperators.Subtract,new Q.InvocationExpression(Q.Methods.Year,[member]),new Q.ConstantExpression(1900));if("getMonth"===method||"getUTCMonth"===method)return new Q.BinaryExpression(Q.BinaryOperators.Subtract,new Q.InvocationExpression(Q.Methods.Month,[member]),new Q.ConstantExpression(1));if("getDate"===method||"getUTCDate"===method)return new Q.InvocationExpression(Q.Methods.Day,[member])}}.call(this),null!=expr?expr:JavaScriptToQueryVisitor.__super__.CallExpression.call(this,node)},JavaScriptToQueryVisitor}(JS.JavaScriptVisitor)}).call(this)},$__modules__.Node=function(exports){(function(){var Node,Visitor,_;_=require("./Utilities"),exports.Node=Node=function(){function Node(){this.type=_.functionName(this.constructor)}return Node.prototype.type="Node",Node}(),exports.Visitor=Visitor=function(){function Visitor(){}return Visitor.prototype.visit=function(node){var element,_i,_len,_results;if(_.isArray(node)){for(_results=[],_i=0,_len=node.length;_len>_i;_i++)element=node[_i],_results.push(this.visit(element));return _results}if(null!=node?node.type:void 0){if(_.isFunction(this[node.type]))return this[node.type](node);throw"Unsupported expression "+this.getSource(node)}return node},Visitor.prototype.getSource=function(node){return null},Visitor}()}).call(this)},$__modules__.ODataProvider=function(exports){(function(){var ODataFilterQueryVisitor,ODataProvider,Q,Query,_,__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};_=require("./Utilities"),Q=require("./QueryNodes"),Query=require("./Query").Query,exports.ODataProvider=ODataProvider=function(){function ODataProvider(){}return ODataProvider.prototype.toQuery=function(query){var odata,s,url;return odata=this.toOData(query,!0),url="/"+odata.table,s="?",odata.filters&&(url+=""+s+"$filter="+odata.filters,s="&"),odata.orderClauses&&(url+=""+s+"$orderby="+odata.orderClauses,s="&"),odata.skip&&(url+=""+s+"$skip="+odata.skip,s="&"),(odata.take||0===odata.take)&&(url+=""+s+"$top="+odata.take,s="&"),odata.selections&&(url+=""+s+"$select="+odata.selections,s="&"),odata.includeTotalCount&&(url+=""+s+"$inlinecount=allpages"),url},ODataProvider.prototype.toOData=function(query,encodeForUri){var asc,components,name,odata,order,orderClauses,ordering,_ref,_ref1;return null==encodeForUri&&(encodeForUri=!1),components=null!=(_ref=null!=query?query.getComponents():void 0)?_ref:{},ordering=function(){var _ref1,_results;_ref1=null!=components?components.ordering:void 0,_results=[];for(name in _ref1)asc=_ref1[name],_results.push(asc?name:""+name+" desc");return _results}(),orderClauses=function(){var _i,_len,_ref1,_results;for(_ref1=null!=components?components.orderClauses:void 0,_results=[],_i=0,_len=_ref1.length;_len>_i;_i++)order=_ref1[_i],_results.push(order.ascending?order.name:""+order.name+" desc");return _results}(),odata={table:null!=components?components.table:void 0,filters:ODataFilterQueryVisitor.convert(components.filters,encodeForUri),ordering:null!=ordering?ordering.toString():void 0,orderClauses:null!=orderClauses?orderClauses.toString():void 0,skip:null!=components?components.skip:void 0,take:null!=components?components.take:void 0,selections:null!=components&&null!=(_ref1=components.selections)?_ref1.toString():void 0,includeTotalCount:null!=components?components.includeTotalCount:void 0}},ODataProvider.prototype.fromOData=function(table,filters,ordering,skip,take,selections,includeTotalCount){var direction,field,item,query,_i,_j,_len,_len1,_ref,_ref1,_ref2,_ref3;for(query=new Query(table),filters&&query.where(filters),(skip||0===skip)&&query.skip(skip),(take||0===take)&&query.take(take),includeTotalCount&&query.includeTotalCount(),_ref1=null!=(_ref=null!=selections?selections.split(","):void 0)?_ref:[],_i=0,_len=_ref1.length;_len>_i;_i++)field=_ref1[_i],query.select(field.trim());for(_ref2=function(){var _k,_len1,_ref2,_ref3,_results;for(_ref3=null!=(_ref2=null!=ordering?ordering.split(","):void 0)?_ref2:[],_results=[],_k=0,_len1=_ref3.length;_len1>_k;_k++)item=_ref3[_k],_results.push(item.trim().split(" "));return _results}(),_j=0,_len1=_ref2.length;_len1>_j;_j++)_ref3=_ref2[_j],field=_ref3[0],direction=_ref3[1],"DESC"!==(null!=direction?direction.toUpperCase():void 0)?query.orderBy(field):query.orderByDescending(field);return query},ODataProvider}(),ODataFilterQueryVisitor=function(_super){function ODataFilterQueryVisitor(encodeForUri){this.encodeForUri=encodeForUri}return __extends(ODataFilterQueryVisitor,_super),ODataFilterQueryVisitor.convert=function(filters,encodeForUri){var visitor,_ref;return visitor=new ODataFilterQueryVisitor(encodeForUri),null!=(_ref=filters?visitor.visit(filters):void 0)?_ref:null},ODataFilterQueryVisitor.prototype.toOData=function(value){var text;if(_.isNumber(value)||_.isBoolean(value))return value.toString();if(_.isString(value))return value=value.replace(/'/g,"''"),null!=this.encodeForUri&&this.encodeForUri===!0&&(value=encodeURIComponent(value)),"'"+value+"'";if(_.isDate(value))return text=JSON.stringify(value),text.length>2&&(text=text.slice(1,+(text.length-2)+1||9e9)),text=text.replace(/(T\d{2}:\d{2}:\d{2})Z$/,function(all,time){var msec;return msec=String(value.getMilliseconds()+1e3).substring(1),""+time+"."+msec+"Z"}),"datetime'"+text+"'";if(value)throw"Unsupported literal value "+value;return"null"},ODataFilterQueryVisitor.prototype.ConstantExpression=function(node){return this.toOData(node.value)},ODataFilterQueryVisitor.prototype.MemberExpression=function(node){return node.member},ODataFilterQueryVisitor.prototype.UnaryExpression=function(node){if(node.operator===Q.UnaryOperators.Not)return"not "+this.visit(node.operand);if(node.operator===Q.UnaryOperators.Negate)return"(0 sub "+this.visit(node.operand)+")";throw"Unsupported operator "+node.operator},ODataFilterQueryVisitor.prototype.BinaryExpression=function(node){var mapping,op;if(mapping={And:"and",Or:"or",Add:"add",Subtract:"sub",Multiply:"mul",Divide:"div",Modulo:"mod",GreaterThan:"gt",GreaterThanOrEqual:"ge",LessThan:"lt",LessThanOrEqual:"le",NotEqual:"ne",Equal:"eq"},op=mapping[node.operator])return"("+this.visit(node.left)+" "+op+" "+this.visit(node.right)+")";throw"Unsupported operator "+node.operator},ODataFilterQueryVisitor.prototype.InvocationExpression=function(node){var mapping,method;if(mapping={Length:"length",ToUpperCase:"toupper",ToLowerCase:"tolower",Trim:"trim",IndexOf:"indexof",Replace:"replace",Substring:"substring",Concat:"concat",Day:"day",Month:"month",Year:"year",Floor:"floor",Ceiling:"ceiling",Round:"round"},method=mapping[node.method])return""+method+"("+this.visit(node.args)+")";throw"Invocation of unsupported method "+node.method},ODataFilterQueryVisitor.prototype.LiteralExpression=function(node){var ch,inString,literal,parenBalance,_i,_len,_ref;for(literal="",parenBalance=0,inString=!1,_ref=node.queryString,_i=0,_len=_ref.length;_len>_i&&(ch=_ref[_i],!(0>parenBalance));_i++)if(inString)literal+=ch,inString="'"!==ch;else if("?"===ch){if(!node.args||node.args.length<=0)throw"Too few arguments for "+node.queryString+".";literal+=this.toOData(node.args.shift())}else"'"===ch?(literal+=ch,inString=!0):"("===ch?(parenBalance+=1,literal+=ch):")"===ch?(parenBalance-=1,literal+=ch):literal+=ch;if(node.args&&node.args.length>0)throw"Too many arguments for "+node.queryString;if(0!==parenBalance)throw"Unbalanced parentheses in "+node.queryString;return literal.trim().length>0?"("+literal+")":literal},ODataFilterQueryVisitor}(Q.QueryExpressionVisitor)}).call(this)},$__modules__.PartialEvaluator=function(exports){(function(){var IndependenceNominator,JS,PartialEvaluator,_,__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};_=require("./Utilities"),JS=require("./JavaScriptNodes"),exports.PartialEvaluator=PartialEvaluator=function(_super){function PartialEvaluator(context){this.context=context}return __extends(PartialEvaluator,_super),PartialEvaluator.prototype.visit=function(node){var key,params,source,thunk,value,values,_ref,_ref1,_ref2,_ref3;return node.__independent&&"Literal"!==node.type&&node.type?"Identifier"===node.type&&this.context.environment[node.name]?new JS.Literal(this.context.environment[node.name]):(source=this.context.source.slice(null!=node&&null!=(_ref=node.range)?_ref[0]:void 0,+((null!=node&&null!=(_ref1=node.range)?_ref1[1]:void 0)-1)+1||9e9),params=null!=(_ref2=function(){var _ref3,_results;_ref3=this.context.environment,_results=[];for(key in _ref3)value=_ref3[key],_results.push(key);return _results}.call(this))?_ref2:[],values=null!=(_ref3=function(){var _ref4,_results;_ref4=this.context.environment,_results=[];for(key in _ref4)value=_ref4[key],_results.push(JSON.stringify(value));return _results}.call(this))?_ref3:[],thunk="(function("+params+") { return "+source+"; })("+values+")",value=eval(thunk),new JS.Literal(value)):PartialEvaluator.__super__.visit.call(this,node)},PartialEvaluator.evaluate=function(context){var evaluator,nominator;return nominator=new IndependenceNominator(context),nominator.visit(context.expression),evaluator=new PartialEvaluator(context),evaluator.visit(context.expression)},PartialEvaluator}(JS.JavaScriptVisitor),exports.IndependenceNominator=IndependenceNominator=function(_super){function IndependenceNominator(context){this.context=context}return __extends(IndependenceNominator,_super),IndependenceNominator.prototype.Literal=function(node){return IndependenceNominator.__super__.Literal.call(this,node),node.__independent=!0,node.__hasThisExp=!1,node},IndependenceNominator.prototype.ThisExpression=function(node){return IndependenceNominator.__super__.ThisExpression.call(this,node),node.__independent=!1,node.__hasThisExp=!0,node},IndependenceNominator.prototype.Identifier=function(node){return IndependenceNominator.__super__.Identifier.call(this,node),node.__independent=!0,node.__hasThisExp=!1,node},IndependenceNominator.prototype.MemberExpression=function(node){var _ref;return IndependenceNominator.__super__.MemberExpression.call(this,node),node.__hasThisExp=null!=(_ref=node.object)?_ref.__hasThisExp:void 0,node.__hasThisExp&&(node.__independent=!1,null!=node&&(node.property.__independent=!1)),node},IndependenceNominator.prototype.CallExpression=function(node){return IndependenceNominator.__super__.CallExpression.call(this,node),node.__hasThisExp=node.callee.__hasThisExp,node},IndependenceNominator.prototype.ObjectExpression=function(node){var independence,setter,_i,_j,_len,_len1,_ref,_ref1;for(IndependenceNominator.__super__.ObjectExpression.call(this,node),_ref=node.properties,_i=0,_len=_ref.length;_len>_i;_i++)setter=_ref[_i],setter.key.__independent=!1;for(independence=!0,_ref1=node.properties,_j=0,_len1=_ref1.length;_len1>_j;_j++)setter=_ref1[_j],independence&=setter.value.__independent;return node.__independent=independence?!0:!1,node},IndependenceNominator.prototype.visit=function(node){var independence,isIndependent,name,v,value,_i,_len;if(IndependenceNominator.__super__.visit.call(this,node),!Object.prototype.hasOwnProperty.call(node,"__independent")){independence=!0,isIndependent=function(node){var _ref;return _.isObject(node)?null!=(_ref=value.__independent)?_ref:!1:!0};for(name in node)if(value=node[name],_.isArray(value))for(_i=0,_len=value.length;_len>_i;_i++)v=value[_i],independence&=isIndependent(v);else _.isObject(value)&&(independence&=isIndependent(value));node.__independent=independence?!0:!1}return node},IndependenceNominator}(JS.JavaScriptVisitor)}).call(this)},$__modules__.Query=function(exports){(function(){var JavaScript,ODataProvider,Q,Query,_,__slice=[].slice;_=require("./Utilities"),Q=require("./QueryNodes"),JavaScript=require("./JavaScript").JavaScript,exports.Query=Query=function(){function Query(table,context){var _context,_filters,_includeTotalCount,_orderClauses,_ordering,_projection,_selections,_skip,_table,_take,_version;if(!table||!_.isString(table))throw"Expected the name of a table!";_table=table,_context=context,_filters=null,_projection=null,_selections=[],_ordering={},_orderClauses=[],_skip=null,_take=null,_includeTotalCount=!1,_version=0,this.getComponents=function(){return{filters:_filters,selections:_selections,projection:_projection,ordering:_ordering,orderClauses:_orderClauses,skip:_skip,take:_take,table:_table,context:_context,includeTotalCount:_includeTotalCount,version:_version}},this.setComponents=function(components){var ascending,name,property,_i,_len,_ref,_ref1,_ref10,_ref2,_ref3,_ref4,_ref5,_ref6,_ref7,_ref8,_ref9;if(_version++,_filters=null!=(_ref=null!=components?components.filters:void 0)?_ref:null,_selections=null!=(_ref1=null!=components?components.selections:void 0)?_ref1:[],_projection=null!=(_ref2=null!=components?components.projection:void 0)?_ref2:null,_skip=null!=(_ref3=null!=components?components.skip:void 0)?_ref3:null,_take=null!=(_ref4=null!=components?components.take:void 0)?_ref4:null,_includeTotalCount=null!=(_ref5=null!=components?components.includeTotalCount:void 0)?_ref5:!1,_table=null!=(_ref6=null!=components?components.table:void 0)?_ref6:null,_context=null!=(_ref7=null!=components?components.context:void 0)?_ref7:null,null!=components?components.orderClauses:void 0)for(_orderClauses=null!=(_ref8=null!=components?components.orderClauses:void 0)?_ref8:[],_ordering={},_i=0,_len=_orderClauses.length;_len>_i;_i++)_ref9=_orderClauses[_i],name=_ref9.name,ascending=_ref9.ascending,_ordering[name]=ascending;else{_ordering=null!=(_ref10=null!=components?components.ordering:void 0)?_ref10:{},_orderClauses=[];for(property in _ordering)_orderClauses.push({name:property,ascending:!!_ordering[property]})}return this},this.where=function(){var args,constraint,expr,name,value;return constraint=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[],_version++,expr=function(){if(_.isFunction(constraint))return JavaScript.transformConstraint(constraint,args);if(_.isObject(constraint))return Q.QueryExpression.groupClauses(Q.BinaryOperators.And,function(){var _results;_results=[];for(name in constraint)value=constraint[name],_results.push(expr=new Q.BinaryExpression(Q.BinaryOperators.Equal,new Q.MemberExpression(name),new Q.ConstantExpression(value)));return _results}());if(_.isString(constraint))return new Q.LiteralExpression(constraint,args);throw"Expected a function, object, or string, not "+constraint}(),_filters=Q.QueryExpression.groupClauses(Q.BinaryOperators.And,[_filters,expr]),this},this.select=function(){var param,parameters,projectionOrParameter,_i,_len;if(projectionOrParameter=arguments[0],parameters=2<=arguments.length?__slice.call(arguments,1):[],_version++,_.isString(projectionOrParameter))for(_selections.push(projectionOrParameter),_i=0,_len=parameters.length;_len>_i;_i++){if(param=parameters[_i],!_.isString(param))throw"Expected string parameters, not "+param;_selections.push(param)}else{if(!_.isFunction(projectionOrParameter))throw"Expected a string or a function, not "+projectionOrParameter;_projection=projectionOrParameter,_selections=JavaScript.getProjectedFields(_projection)}return this},this.orderBy=function(){var order,param,parameters,replacement,_i,_j,_len,_len1;for(parameters=1<=arguments.length?__slice.call(arguments,0):[],_version++,_i=0,_len=parameters.length;_len>_i;_i++){if(param=parameters[_i],!_.isString(param))throw"Expected string parameters, not "+param;for(_ordering[param]=!0,replacement=!1,_j=0,_len1=_orderClauses.length;_len1>_j;_j++)order=_orderClauses[_j],order.name===param&&(replacement=!0,order.ascending=!0);replacement||_orderClauses.push({name:param,ascending:!0})}return this},this.orderByDescending=function(){var order,param,parameters,replacement,_i,_j,_len,_len1;for(parameters=1<=arguments.length?__slice.call(arguments,0):[],_version++,_i=0,_len=parameters.length;_len>_i;_i++){if(param=parameters[_i],!_.isString(param))throw"Expected string parameters, not "+param;for(_ordering[param]=!1,replacement=!1,_j=0,_len1=_orderClauses.length;_len1>_j;_j++)order=_orderClauses[_j],order.name===param&&(replacement=!0,order.ascending=!1);replacement||_orderClauses.push({name:param,ascending:!1})}return this},this.skip=function(count){if(_version++,!_.isNumber(count))throw"Expected a number, not "+count;return _skip=count,this},this.take=function(count){if(_version++,!_.isNumber(count))throw"Expected a number, not "+count;return _take=count,this},this.includeTotalCount=function(){return _version++,_includeTotalCount=!0,this}}return Query.registerProvider=function(name,provider){return Query.Providers[name]=provider,Query.prototype["to"+name]=function(){return null!=provider&&"function"==typeof provider.toQuery?provider.toQuery(this):void 0}},Query.Providers={},Query.Expressions=Q,Query}(),ODataProvider=require("./ODataProvider").ODataProvider,Query.registerProvider("OData",new ODataProvider)}).call(this)},$__modules__.QueryNodes=function(exports){(function(){var BinaryExpression,ConstantExpression,InvocationExpression,LiteralExpression,MemberExpression,Node,QueryExpression,QueryExpressionVisitor,UnaryExpression,Visitor,_ref,__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};_ref=require("./Node"),Node=_ref.Node,Visitor=_ref.Visitor,exports.QueryExpression=QueryExpression=function(_super){function QueryExpression(){QueryExpression.__super__.constructor.call(this)}return __extends(QueryExpression,_super),QueryExpression.groupClauses=function(operator,clauses){var combine;return combine=function(left,right){return left?right?new BinaryExpression(operator,left,right):left:right},clauses.reduce(combine,null)},QueryExpression}(Node),exports.QueryExpressionVisitor=QueryExpressionVisitor=function(_super){function QueryExpressionVisitor(){QueryExpressionVisitor.__super__.constructor.call(this)}return __extends(QueryExpressionVisitor,_super),QueryExpressionVisitor.prototype.QueryExpression=function(node){return node},QueryExpressionVisitor}(Visitor),exports.ConstantExpression=ConstantExpression=function(_super){function ConstantExpression(value){this.value=value,ConstantExpression.__super__.constructor.call(this)}return __extends(ConstantExpression,_super),ConstantExpression}(QueryExpression),QueryExpressionVisitor.prototype.ConstantExpression=function(node){return this.QueryExpression(node)},exports.MemberExpression=MemberExpression=function(_super){function MemberExpression(member){this.member=member,MemberExpression.__super__.constructor.call(this)}return __extends(MemberExpression,_super),MemberExpression}(QueryExpression),QueryExpressionVisitor.prototype.MemberExpression=function(node){return this.QueryExpression(node)},exports.BinaryExpression=BinaryExpression=function(_super){function BinaryExpression(operator,left,right){this.operator=operator,this.left=left,this.right=right,BinaryExpression.__super__.constructor.call(this)}return __extends(BinaryExpression,_super),BinaryExpression}(QueryExpression),QueryExpressionVisitor.prototype.BinaryExpression=function(node){return node=this.QueryExpression(node),node.left=this.visit(node.left),node.right=this.visit(node.right),node},exports.BinaryOperators={And:"And",Or:"Or",Add:"Add",Subtract:"Subtract",Multiply:"Multiply",Divide:"Divide",Modulo:"Modulo",GreaterThan:"GreaterThan",GreaterThanOrEqual:"GreaterThanOrEqual",LessThan:"LessThan",LessThanOrEqual:"LessThanOrEqual",NotEqual:"NotEqual",Equal:"Equal"},exports.UnaryExpression=UnaryExpression=function(_super){function UnaryExpression(operator,operand){this.operator=operator,this.operand=operand,UnaryExpression.__super__.constructor.call(this)}return __extends(UnaryExpression,_super),UnaryExpression}(QueryExpression),QueryExpressionVisitor.prototype.UnaryExpression=function(node){return node=this.QueryExpression(node),node.operand=this.visit(node.operand),node},exports.UnaryOperators={Not:"Not",Negate:"Negate",Increment:"Increment",Decrement:"Decrement"},exports.InvocationExpression=InvocationExpression=function(_super){function InvocationExpression(method,args){this.method=method,this.args=args,InvocationExpression.__super__.constructor.call(this)}return __extends(InvocationExpression,_super),InvocationExpression}(QueryExpression),QueryExpressionVisitor.prototype.InvocationExpression=function(node){return node=this.QueryExpression(node),node.args=this.visit(node.args),node},exports.Methods={Length:"Length",ToUpperCase:"ToUpperCase",ToLowerCase:"ToLowerCase",Trim:"Trim",IndexOf:"IndexOf",Replace:"Replace",Substring:"Substring",Concat:"Concat",Day:"Day",Month:"Month",Year:"Year",Floor:"Floor",Ceiling:"Ceiling",Round:"Round"},exports.LiteralExpression=LiteralExpression=function(_super){function LiteralExpression(queryString,args){this.queryString=queryString,this.args=null!=args?args:[],LiteralExpression.__super__.constructor.call(this)}return __extends(LiteralExpression,_super),LiteralExpression}(QueryExpression),QueryExpressionVisitor.prototype.LiteralExpression=function(node){return this.QueryExpression(node)}}).call(this)},$__modules__.Utilities=function(exports){(function(){var classOf,__slice=[].slice;classOf=function(obj){return Object.prototype.toString.call(obj).slice(8,-1).toLowerCase()},null==Array.prototype.reduce&&(Array.prototype.reduce=function(){var accumulator,array,arrayLength,currentIndex,currentValue,moreArgs;if(accumulator=arguments[0],moreArgs=2<=arguments.length?__slice.call(arguments,1):[],array=this,arrayLength=array.length,currentIndex=0,currentValue=void 0,null==array)throw new TypeError("Object is null or undefined");if("function"!=typeof accumulator)throw new TypeError("First argument is not callable");if(0===moreArgs.length){if(0===arrayLength)throw new TypeError("Array length is 0 and no second argument");currentValue=array[0],currentIndex=1}else currentValue=moreArgs[0];for(;arrayLength>currentIndex;)currentIndex in array&&(currentValue=accumulator.call(void 0,currentValue,array[currentIndex],array)),++currentIndex;return currentValue}),null==Array.prototype.map&&(Array.prototype.map=function(callback,thisArg){var elem,index,inputArray,len,outputArray,_i,_len;if("undefined"==typeof this||null===this)throw new TypeError("this is null or not defined");if("function"!=typeof callback)throw new TypeError(callback+" is not a function");for(thisArg=thisArg?thisArg:void 0,inputArray=Object(this),len=inputArray.length>>>0,outputArray=new Array(len),index=_i=0,_len=inputArray.length;_len>_i;index=++_i)elem=inputArray[index],index in inputArray&&(outputArray[index]=callback.call(thisArg,elem,index,inputArray));return outputArray}),null==Array.isArray&&(Array.isArray=function(vArg){return"[object Array]"===Object.prototype.toString.call(vArg)}),exports.isObject=function(obj){return"object"===Object.prototype.toString.call(obj).slice(8,-1).toLowerCase()},exports.isString=function(obj){return"string"==typeof obj},exports.isFunction=function(obj){return"function"==typeof obj},exports.isArray=Array.isArray,exports.isNumber=function(obj){return"number"==typeof obj},exports.isBoolean=function(obj){return"boolean"==typeof obj},exports.isDate=function(obj){return"date"===classOf(obj)},exports.functionName=function(fn){var index,prefix,source;return"function"==typeof Function.prototype.name?Function.prototype.name.call(fn):(source=fn.toString(),prefix="function ",source.slice(0,+(prefix.length-1)+1||9e9)===prefix&&(index=source.indexOf("(",prefix.length),index>prefix.length)?source.slice(prefix.length,+(index-1)+1||9e9):null)}}).call(this)},$__modules__.esprima=function(exports){!function(root,factory){"use strict";"function"==typeof define&&define.amd?define(["exports"],factory):factory("undefined"!=typeof exports?exports:root.esprima={})}(this,function(exports){"use strict";function assert(condition,message){if(!condition)throw new Error("ASSERT: "+message)}function isDecimalDigit(ch){return ch>=48&&57>=ch}function isHexDigit(ch){return"0123456789abcdefABCDEF".indexOf(ch)>=0}function isOctalDigit(ch){return"01234567".indexOf(ch)>=0}function isWhiteSpace(ch){return 32===ch||9===ch||11===ch||12===ch||160===ch||ch>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(ch)>=0}function isLineTerminator(ch){return 10===ch||13===ch||8232===ch||8233===ch}function isIdentifierStart(ch){return 36===ch||95===ch||ch>=65&&90>=ch||ch>=97&&122>=ch||92===ch||ch>=128&&Regex.NonAsciiIdentifierStart.test(String.fromCharCode(ch))}function isIdentifierPart(ch){return 36===ch||95===ch||ch>=65&&90>=ch||ch>=97&&122>=ch||ch>=48&&57>=ch||92===ch||ch>=128&&Regex.NonAsciiIdentifierPart.test(String.fromCharCode(ch))}function isFutureReservedWord(id){switch(id){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}function isStrictModeReservedWord(id){switch(id){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function isRestrictedWord(id){return"eval"===id||"arguments"===id}function isKeyword(id){if(strict&&isStrictModeReservedWord(id))return!0;switch(id.length){case 2:return"if"===id||"in"===id||"do"===id;case 3:return"var"===id||"for"===id||"new"===id||"try"===id||"let"===id;case 4:return"this"===id||"else"===id||"case"===id||"void"===id||"with"===id||"enum"===id;case 5:return"while"===id||"break"===id||"catch"===id||"throw"===id||"const"===id||"yield"===id||"class"===id||"super"===id;case 6:return"return"===id||"typeof"===id||"delete"===id||"switch"===id||"export"===id||"import"===id;case 7:return"default"===id||"finally"===id||"extends"===id;case 8:return"function"===id||"continue"===id||"debugger"===id;case 10:return"instanceof"===id;default:return!1}}function addComment(type,value,start,end,loc){var comment;assert("number"==typeof start,"Comment must have valid position"),state.lastCommentStart>=start||(state.lastCommentStart=start,comment={type:type,value:value},extra.range&&(comment.range=[start,end]),extra.loc&&(comment.loc=loc),extra.comments.push(comment),extra.attachComment&&(extra.leadingComments.push(comment),extra.trailingComments.push(comment)))}function skipSingleLineComment(offset){var start,loc,ch,comment;for(start=index-offset,loc={start:{line:lineNumber,column:index-lineStart-offset}};length>index;)if(ch=source.charCodeAt(index),++index,isLineTerminator(ch))return extra.comments&&(comment=source.slice(start+offset,index-1),loc.end={line:lineNumber,column:index-lineStart-1},addComment("Line",comment,start,index-1,loc)),13===ch&&10===source.charCodeAt(index)&&++index,++lineNumber,void(lineStart=index);extra.comments&&(comment=source.slice(start+offset,index),loc.end={line:lineNumber,column:index-lineStart},addComment("Line",comment,start,index,loc))}function skipMultiLineComment(){var start,loc,ch,comment;for(extra.comments&&(start=index-2,loc={start:{line:lineNumber,column:index-lineStart-2}});length>index;)if(ch=source.charCodeAt(index),isLineTerminator(ch))13===ch&&10===source.charCodeAt(index+1)&&++index,++lineNumber,++index,lineStart=index,index>=length&&throwError({},Messages.UnexpectedToken,"ILLEGAL");else if(42===ch){if(47===source.charCodeAt(index+1))return++index,++index,void(extra.comments&&(comment=source.slice(start+2,index-2),loc.end={line:lineNumber,column:index-lineStart},addComment("Block",comment,start,index,loc)));++index}else++index;throwError({},Messages.UnexpectedToken,"ILLEGAL")}function skipComment(){var ch,start;for(start=0===index;length>index;)if(ch=source.charCodeAt(index),isWhiteSpace(ch))++index;else if(isLineTerminator(ch))++index,13===ch&&10===source.charCodeAt(index)&&++index,++lineNumber,lineStart=index,start=!0;else if(47===ch)if(ch=source.charCodeAt(index+1),47===ch)++index,++index,skipSingleLineComment(2),start=!0;else{if(42!==ch)break;++index,++index,skipMultiLineComment()}else if(start&&45===ch){if(45!==source.charCodeAt(index+1)||62!==source.charCodeAt(index+2))break;index+=3,skipSingleLineComment(3)}else{if(60!==ch)break;if("!--"!==source.slice(index+1,index+4))break;++index,++index,++index,++index,skipSingleLineComment(4)}}function scanHexEscape(prefix){var i,len,ch,code=0;for(len="u"===prefix?4:2,i=0;len>i;++i){if(!(length>index&&isHexDigit(source[index])))return"";ch=source[index++],code=16*code+"0123456789abcdef".indexOf(ch.toLowerCase())}return String.fromCharCode(code)}function scanUnicodeCodePointEscape(){var ch,code,cu1,cu2;for(ch=source[index],code=0,"}"===ch&&throwError({},Messages.UnexpectedToken,"ILLEGAL");length>index&&(ch=source[index++],isHexDigit(ch));)code=16*code+"0123456789abcdef".indexOf(ch.toLowerCase());return(code>1114111||"}"!==ch)&&throwError({},Messages.UnexpectedToken,"ILLEGAL"),65535>=code?String.fromCharCode(code):(cu1=(code-65536>>10)+55296,cu2=(code-65536&1023)+56320,String.fromCharCode(cu1,cu2))}function getEscapedIdentifier(){var ch,id;for(ch=source.charCodeAt(index++),id=String.fromCharCode(ch),92===ch&&(117!==source.charCodeAt(index)&&throwError({},Messages.UnexpectedToken,"ILLEGAL"),++index,ch=scanHexEscape("u"),ch&&"\\"!==ch&&isIdentifierStart(ch.charCodeAt(0))||throwError({},Messages.UnexpectedToken,"ILLEGAL"),id=ch);length>index&&(ch=source.charCodeAt(index),isIdentifierPart(ch));)++index,id+=String.fromCharCode(ch),92===ch&&(id=id.substr(0,id.length-1),117!==source.charCodeAt(index)&&throwError({},Messages.UnexpectedToken,"ILLEGAL"),++index,ch=scanHexEscape("u"),ch&&"\\"!==ch&&isIdentifierPart(ch.charCodeAt(0))||throwError({},Messages.UnexpectedToken,"ILLEGAL"),id+=ch);return id}function getIdentifier(){var start,ch;for(start=index++;length>index;){if(ch=source.charCodeAt(index),92===ch)return index=start,getEscapedIdentifier();if(!isIdentifierPart(ch))break;++index}return source.slice(start,index)}function scanIdentifier(){var start,id,type;return start=index,id=92===source.charCodeAt(index)?getEscapedIdentifier():getIdentifier(),type=1===id.length?Token.Identifier:isKeyword(id)?Token.Keyword:"null"===id?Token.NullLiteral:"true"===id||"false"===id?Token.BooleanLiteral:Token.Identifier,{type:type,value:id,lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}function scanPunctuator(){var code2,ch2,ch3,ch4,start=index,code=source.charCodeAt(index),ch1=source[index];

switch(code){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++index,extra.tokenize&&(40===code?extra.openParenToken=extra.tokens.length:123===code&&(extra.openCurlyToken=extra.tokens.length)),{type:Token.Punctuator,value:String.fromCharCode(code),lineNumber:lineNumber,lineStart:lineStart,start:start,end:index};default:if(code2=source.charCodeAt(index+1),61===code2)switch(code){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return index+=2,{type:Token.Punctuator,value:String.fromCharCode(code)+String.fromCharCode(code2),lineNumber:lineNumber,lineStart:lineStart,start:start,end:index};case 33:case 61:return index+=2,61===source.charCodeAt(index)&&++index,{type:Token.Punctuator,value:source.slice(start,index),lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}}return ch4=source.substr(index,4),">>>="===ch4?(index+=4,{type:Token.Punctuator,value:ch4,lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}):(ch3=ch4.substr(0,3),">>>"===ch3||"<<="===ch3||">>="===ch3?(index+=3,{type:Token.Punctuator,value:ch3,lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}):(ch2=ch3.substr(0,2),ch1===ch2[1]&&"+-<>&|".indexOf(ch1)>=0||"=>"===ch2?(index+=2,{type:Token.Punctuator,value:ch2,lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}):"<>=!+-*%&|^/".indexOf(ch1)>=0?(++index,{type:Token.Punctuator,value:ch1,lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}):void throwError({},Messages.UnexpectedToken,"ILLEGAL")))}function scanHexLiteral(start){for(var number="";length>index&&isHexDigit(source[index]);)number+=source[index++];return 0===number.length&&throwError({},Messages.UnexpectedToken,"ILLEGAL"),isIdentifierStart(source.charCodeAt(index))&&throwError({},Messages.UnexpectedToken,"ILLEGAL"),{type:Token.NumericLiteral,value:parseInt("0x"+number,16),lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}function scanOctalLiteral(start){for(var number="0"+source[index++];length>index&&isOctalDigit(source[index]);)number+=source[index++];return(isIdentifierStart(source.charCodeAt(index))||isDecimalDigit(source.charCodeAt(index)))&&throwError({},Messages.UnexpectedToken,"ILLEGAL"),{type:Token.NumericLiteral,value:parseInt(number,8),octal:!0,lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}function scanNumericLiteral(){var number,start,ch;if(ch=source[index],assert(isDecimalDigit(ch.charCodeAt(0))||"."===ch,"Numeric literal must start with a decimal digit or a decimal point"),start=index,number="","."!==ch){if(number=source[index++],ch=source[index],"0"===number){if("x"===ch||"X"===ch)return++index,scanHexLiteral(start);if(isOctalDigit(ch))return scanOctalLiteral(start);ch&&isDecimalDigit(ch.charCodeAt(0))&&throwError({},Messages.UnexpectedToken,"ILLEGAL")}for(;isDecimalDigit(source.charCodeAt(index));)number+=source[index++];ch=source[index]}if("."===ch){for(number+=source[index++];isDecimalDigit(source.charCodeAt(index));)number+=source[index++];ch=source[index]}if("e"===ch||"E"===ch)if(number+=source[index++],ch=source[index],("+"===ch||"-"===ch)&&(number+=source[index++]),isDecimalDigit(source.charCodeAt(index)))for(;isDecimalDigit(source.charCodeAt(index));)number+=source[index++];else throwError({},Messages.UnexpectedToken,"ILLEGAL");return isIdentifierStart(source.charCodeAt(index))&&throwError({},Messages.UnexpectedToken,"ILLEGAL"),{type:Token.NumericLiteral,value:parseFloat(number),lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}function scanStringLiteral(){var quote,start,ch,code,unescaped,restore,startLineNumber,startLineStart,str="",octal=!1;for(startLineNumber=lineNumber,startLineStart=lineStart,quote=source[index],assert("'"===quote||'"'===quote,"String literal must starts with a quote"),start=index,++index;length>index;){if(ch=source[index++],ch===quote){quote="";break}if("\\"===ch)if(ch=source[index++],ch&&isLineTerminator(ch.charCodeAt(0)))++lineNumber,"\r"===ch&&"\n"===source[index]&&++index,lineStart=index;else switch(ch){case"u":case"x":"{"===source[index]?(++index,str+=scanUnicodeCodePointEscape()):(restore=index,unescaped=scanHexEscape(ch),unescaped?str+=unescaped:(index=restore,str+=ch));break;case"n":str+="\n";break;case"r":str+="\r";break;case"t":str+="	";break;case"b":str+="\b";break;case"f":str+="\f";break;case"v":str+="";break;default:isOctalDigit(ch)?(code="01234567".indexOf(ch),0!==code&&(octal=!0),length>index&&isOctalDigit(source[index])&&(octal=!0,code=8*code+"01234567".indexOf(source[index++]),"0123".indexOf(ch)>=0&&length>index&&isOctalDigit(source[index])&&(code=8*code+"01234567".indexOf(source[index++]))),str+=String.fromCharCode(code)):str+=ch}else{if(isLineTerminator(ch.charCodeAt(0)))break;str+=ch}}return""!==quote&&throwError({},Messages.UnexpectedToken,"ILLEGAL"),{type:Token.StringLiteral,value:str,octal:octal,startLineNumber:startLineNumber,startLineStart:startLineStart,lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}function testRegExp(pattern,flags){var value;try{value=new RegExp(pattern,flags)}catch(e){throwError({},Messages.InvalidRegExp)}return value}function scanRegExpBody(){var ch,str,classMarker,terminated,body;for(ch=source[index],assert("/"===ch,"Regular expression literal must start with a slash"),str=source[index++],classMarker=!1,terminated=!1;length>index;)if(ch=source[index++],str+=ch,"\\"===ch)ch=source[index++],isLineTerminator(ch.charCodeAt(0))&&throwError({},Messages.UnterminatedRegExp),str+=ch;else if(isLineTerminator(ch.charCodeAt(0)))throwError({},Messages.UnterminatedRegExp);else if(classMarker)"]"===ch&&(classMarker=!1);else{if("/"===ch){terminated=!0;break}"["===ch&&(classMarker=!0)}return terminated||throwError({},Messages.UnterminatedRegExp),body=str.substr(1,str.length-2),{value:body,literal:str}}function scanRegExpFlags(){var ch,str,flags,restore;for(str="",flags="";length>index&&(ch=source[index],isIdentifierPart(ch.charCodeAt(0)));)if(++index,"\\"===ch&&length>index)if(ch=source[index],"u"===ch){if(++index,restore=index,ch=scanHexEscape("u"))for(flags+=ch,str+="\\u";index>restore;++restore)str+=source[restore];else index=restore,flags+="u",str+="\\u";throwErrorTolerant({},Messages.UnexpectedToken,"ILLEGAL")}else str+="\\",throwErrorTolerant({},Messages.UnexpectedToken,"ILLEGAL");else flags+=ch,str+=ch;return{value:flags,literal:str}}function scanRegExp(){var start,body,flags,value;return lookahead=null,skipComment(),start=index,body=scanRegExpBody(),flags=scanRegExpFlags(),value=testRegExp(body.value,flags.value),extra.tokenize?{type:Token.RegularExpression,value:value,lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}:{literal:body.literal+flags.literal,value:value,start:start,end:index}}function collectRegex(){var pos,loc,regex,token;return skipComment(),pos=index,loc={start:{line:lineNumber,column:index-lineStart}},regex=scanRegExp(),loc.end={line:lineNumber,column:index-lineStart},extra.tokenize||(extra.tokens.length>0&&(token=extra.tokens[extra.tokens.length-1],token.range[0]===pos&&"Punctuator"===token.type&&("/"===token.value||"/="===token.value)&&extra.tokens.pop()),extra.tokens.push({type:"RegularExpression",value:regex.literal,range:[pos,index],loc:loc})),regex}function isIdentifierName(token){return token.type===Token.Identifier||token.type===Token.Keyword||token.type===Token.BooleanLiteral||token.type===Token.NullLiteral}function advanceSlash(){var prevToken,checkToken;if(prevToken=extra.tokens[extra.tokens.length-1],!prevToken)return collectRegex();if("Punctuator"===prevToken.type){if("]"===prevToken.value)return scanPunctuator();if(")"===prevToken.value)return checkToken=extra.tokens[extra.openParenToken-1],!checkToken||"Keyword"!==checkToken.type||"if"!==checkToken.value&&"while"!==checkToken.value&&"for"!==checkToken.value&&"with"!==checkToken.value?scanPunctuator():collectRegex();if("}"===prevToken.value){if(extra.tokens[extra.openCurlyToken-3]&&"Keyword"===extra.tokens[extra.openCurlyToken-3].type){if(checkToken=extra.tokens[extra.openCurlyToken-4],!checkToken)return scanPunctuator()}else{if(!extra.tokens[extra.openCurlyToken-4]||"Keyword"!==extra.tokens[extra.openCurlyToken-4].type)return scanPunctuator();if(checkToken=extra.tokens[extra.openCurlyToken-5],!checkToken)return collectRegex()}return FnExprTokens.indexOf(checkToken.value)>=0?scanPunctuator():collectRegex()}return collectRegex()}return"Keyword"===prevToken.type?collectRegex():scanPunctuator()}function advance(){var ch;return skipComment(),index>=length?{type:Token.EOF,lineNumber:lineNumber,lineStart:lineStart,start:index,end:index}:(ch=source.charCodeAt(index),isIdentifierStart(ch)?scanIdentifier():40===ch||41===ch||59===ch?scanPunctuator():39===ch||34===ch?scanStringLiteral():46===ch?isDecimalDigit(source.charCodeAt(index+1))?scanNumericLiteral():scanPunctuator():isDecimalDigit(ch)?scanNumericLiteral():extra.tokenize&&47===ch?advanceSlash():scanPunctuator())}function collectToken(){var loc,token,value;return skipComment(),loc={start:{line:lineNumber,column:index-lineStart}},token=advance(),loc.end={line:lineNumber,column:index-lineStart},token.type!==Token.EOF&&(value=source.slice(token.start,token.end),extra.tokens.push({type:TokenName[token.type],value:value,range:[token.start,token.end],loc:loc})),token}function lex(){var token;return token=lookahead,index=token.end,lineNumber=token.lineNumber,lineStart=token.lineStart,lookahead="undefined"!=typeof extra.tokens?collectToken():advance(),index=token.end,lineNumber=token.lineNumber,lineStart=token.lineStart,token}function peek(){var pos,line,start;pos=index,line=lineNumber,start=lineStart,lookahead="undefined"!=typeof extra.tokens?collectToken():advance(),index=pos,lineNumber=line,lineStart=start}function Position(){this.line=lineNumber,this.column=index-lineStart}function SourceLocation(){this.start=new Position,this.end=null}function WrappingSourceLocation(startToken){startToken.type===Token.StringLiteral?this.start={line:startToken.startLineNumber,column:startToken.start-startToken.startLineStart}:this.start={line:startToken.lineNumber,column:startToken.start-startToken.lineStart},this.end=null}function Node(){index=lookahead.start,lookahead.type===Token.StringLiteral?(lineNumber=lookahead.startLineNumber,lineStart=lookahead.startLineStart):(lineNumber=lookahead.lineNumber,lineStart=lookahead.lineStart),extra.range&&(this.range=[index,0]),extra.loc&&(this.loc=new SourceLocation)}function WrappingNode(startToken){extra.range&&(this.range=[startToken.start,0]),extra.loc&&(this.loc=new WrappingSourceLocation(startToken))}function peekLineTerminator(){var pos,line,start,found;return pos=index,line=lineNumber,start=lineStart,skipComment(),found=lineNumber!==line,index=pos,lineNumber=line,lineStart=start,found}function throwError(token,messageFormat){var error,args=Array.prototype.slice.call(arguments,2),msg=messageFormat.replace(/%(\d)/g,function(whole,index){return assert(index<args.length,"Message reference must be in range"),args[index]});throw"number"==typeof token.lineNumber?(error=new Error("Line "+token.lineNumber+": "+msg),error.index=token.start,error.lineNumber=token.lineNumber,error.column=token.start-lineStart+1):(error=new Error("Line "+lineNumber+": "+msg),error.index=index,error.lineNumber=lineNumber,error.column=index-lineStart+1),error.description=msg,error}function throwErrorTolerant(){try{throwError.apply(null,arguments)}catch(e){if(!extra.errors)throw e;extra.errors.push(e)}}function throwUnexpected(token){if(token.type===Token.EOF&&throwError(token,Messages.UnexpectedEOS),token.type===Token.NumericLiteral&&throwError(token,Messages.UnexpectedNumber),token.type===Token.StringLiteral&&throwError(token,Messages.UnexpectedString),token.type===Token.Identifier&&throwError(token,Messages.UnexpectedIdentifier),token.type===Token.Keyword){if(isFutureReservedWord(token.value))throwError(token,Messages.UnexpectedReserved);else if(strict&&isStrictModeReservedWord(token.value))return void throwErrorTolerant(token,Messages.StrictReservedWord);throwError(token,Messages.UnexpectedToken,token.value)}throwError(token,Messages.UnexpectedToken,token.value)}function expect(value){var token=lex();(token.type!==Token.Punctuator||token.value!==value)&&throwUnexpected(token)}function expectTolerant(value){if(extra.errors){var token=lookahead;token.type!==Token.Punctuator&&token.value!==value?throwErrorTolerant(token,Messages.UnexpectedToken,token.value):lex()}else expect(value)}function expectKeyword(keyword){var token=lex();(token.type!==Token.Keyword||token.value!==keyword)&&throwUnexpected(token)}function match(value){return lookahead.type===Token.Punctuator&&lookahead.value===value}function matchKeyword(keyword){return lookahead.type===Token.Keyword&&lookahead.value===keyword}function matchAssign(){var op;return lookahead.type!==Token.Punctuator?!1:(op=lookahead.value,"="===op||"*="===op||"/="===op||"%="===op||"+="===op||"-="===op||"<<="===op||">>="===op||">>>="===op||"&="===op||"^="===op||"|="===op)}function consumeSemicolon(){var line;return 59===source.charCodeAt(index)||match(";")?void lex():(line=lineNumber,skipComment(),void(lineNumber===line&&(lookahead.type===Token.EOF||match("}")||throwUnexpected(lookahead))))}function isLeftHandSide(expr){return expr.type===Syntax.Identifier||expr.type===Syntax.MemberExpression}function parseArrayInitialiser(){var elements=[],node=new Node;for(expect("[");!match("]");)match(",")?(lex(),elements.push(null)):(elements.push(parseAssignmentExpression()),match("]")||expect(","));return lex(),node.finishArrayExpression(elements)}function parsePropertyFunction(param,first){var previousStrict,body,node=new Node;return previousStrict=strict,body=parseFunctionSourceElements(),first&&strict&&isRestrictedWord(param[0].name)&&throwErrorTolerant(first,Messages.StrictParamName),strict=previousStrict,node.finishFunctionExpression(null,param,[],body)}function parseObjectPropertyKey(){var token,node=new Node;return token=lex(),token.type===Token.StringLiteral||token.type===Token.NumericLiteral?(strict&&token.octal&&throwErrorTolerant(token,Messages.StrictOctalLiteral),node.finishLiteral(token)):node.finishIdentifier(token.value)}function parseObjectProperty(){var token,key,id,value,param,node=new Node;return token=lookahead,token.type===Token.Identifier?(id=parseObjectPropertyKey(),"get"!==token.value||match(":")?"set"!==token.value||match(":")?(expect(":"),value=parseAssignmentExpression(),node.finishProperty("init",id,value)):(key=parseObjectPropertyKey(),expect("("),token=lookahead,token.type!==Token.Identifier?(expect(")"),throwErrorTolerant(token,Messages.UnexpectedToken,token.value),value=parsePropertyFunction([])):(param=[parseVariableIdentifier()],expect(")"),value=parsePropertyFunction(param,token)),node.finishProperty("set",key,value)):(key=parseObjectPropertyKey(),expect("("),expect(")"),value=parsePropertyFunction([]),node.finishProperty("get",key,value))):token.type!==Token.EOF&&token.type!==Token.Punctuator?(key=parseObjectPropertyKey(),expect(":"),value=parseAssignmentExpression(),node.finishProperty("init",key,value)):void throwUnexpected(token)}function parseObjectInitialiser(){var property,name,key,kind,properties=[],map={},toString=String,node=new Node;for(expect("{");!match("}");)property=parseObjectProperty(),name=property.key.type===Syntax.Identifier?property.key.name:toString(property.key.value),kind="init"===property.kind?PropertyKind.Data:"get"===property.kind?PropertyKind.Get:PropertyKind.Set,key="$"+name,Object.prototype.hasOwnProperty.call(map,key)?(map[key]===PropertyKind.Data?strict&&kind===PropertyKind.Data?throwErrorTolerant({},Messages.StrictDuplicateProperty):kind!==PropertyKind.Data&&throwErrorTolerant({},Messages.AccessorDataProperty):kind===PropertyKind.Data?throwErrorTolerant({},Messages.AccessorDataProperty):map[key]&kind&&throwErrorTolerant({},Messages.AccessorGetSet),map[key]|=kind):map[key]=kind,properties.push(property),match("}")||expectTolerant(",");return expect("}"),node.finishObjectExpression(properties)}function parseGroupExpression(){var expr;return expect("("),match(")")?(lex(),PlaceHolders.ArrowParameterPlaceHolder):(++state.parenthesisCount,expr=parseExpression(),expect(")"),expr)}function parsePrimaryExpression(){var type,token,expr,node;if(match("("))return parseGroupExpression();if(match("["))return parseArrayInitialiser();if(match("{"))return parseObjectInitialiser();if(type=lookahead.type,node=new Node,type===Token.Identifier)expr=node.finishIdentifier(lex().value);else if(type===Token.StringLiteral||type===Token.NumericLiteral)strict&&lookahead.octal&&throwErrorTolerant(lookahead,Messages.StrictOctalLiteral),expr=node.finishLiteral(lex());else if(type===Token.Keyword){if(matchKeyword("function"))return parseFunctionExpression();matchKeyword("this")?(lex(),expr=node.finishThisExpression()):throwUnexpected(lex())}else type===Token.BooleanLiteral?(token=lex(),token.value="true"===token.value,expr=node.finishLiteral(token)):type===Token.NullLiteral?(token=lex(),token.value=null,expr=node.finishLiteral(token)):match("/")||match("/=")?(expr=node.finishLiteral("undefined"!=typeof extra.tokens?collectRegex():scanRegExp()),peek()):throwUnexpected(lex());return expr}function parseArguments(){var args=[];if(expect("("),!match(")"))for(;length>index&&(args.push(parseAssignmentExpression()),!match(")"));)expectTolerant(",");return expect(")"),args}function parseNonComputedProperty(){var token,node=new Node;return token=lex(),isIdentifierName(token)||throwUnexpected(token),node.finishIdentifier(token.value)}function parseNonComputedMember(){return expect("."),parseNonComputedProperty()}function parseComputedMember(){var expr;return expect("["),expr=parseExpression(),expect("]"),expr}function parseNewExpression(){var callee,args,node=new Node;return expectKeyword("new"),callee=parseLeftHandSideExpression(),args=match("(")?parseArguments():[],node.finishNewExpression(callee,args)}function parseLeftHandSideExpressionAllowCall(){var expr,args,property,startToken,previousAllowIn=state.allowIn;for(startToken=lookahead,state.allowIn=!0,expr=matchKeyword("new")?parseNewExpression():parsePrimaryExpression();;)if(match("."))property=parseNonComputedMember(),expr=new WrappingNode(startToken).finishMemberExpression(".",expr,property);else if(match("("))args=parseArguments(),expr=new WrappingNode(startToken).finishCallExpression(expr,args);else{if(!match("["))break;property=parseComputedMember(),expr=new WrappingNode(startToken).finishMemberExpression("[",expr,property)}return state.allowIn=previousAllowIn,expr}function parseLeftHandSideExpression(){var expr,property,startToken;for(assert(state.allowIn,"callee of new expression always allow in keyword."),startToken=lookahead,expr=matchKeyword("new")?parseNewExpression():parsePrimaryExpression();;)if(match("["))property=parseComputedMember(),expr=new WrappingNode(startToken).finishMemberExpression("[",expr,property);else{if(!match("."))break;property=parseNonComputedMember(),expr=new WrappingNode(startToken).finishMemberExpression(".",expr,property)}return expr}function parsePostfixExpression(){var expr,token,startToken=lookahead;return expr=parseLeftHandSideExpressionAllowCall(),lookahead.type===Token.Punctuator&&(!match("++")&&!match("--")||peekLineTerminator()||(strict&&expr.type===Syntax.Identifier&&isRestrictedWord(expr.name)&&throwErrorTolerant({},Messages.StrictLHSPostfix),isLeftHandSide(expr)||throwErrorTolerant({},Messages.InvalidLHSInAssignment),token=lex(),expr=new WrappingNode(startToken).finishPostfixExpression(token.value,expr))),expr}function parseUnaryExpression(){var token,expr,startToken;return lookahead.type!==Token.Punctuator&&lookahead.type!==Token.Keyword?expr=parsePostfixExpression():match("++")||match("--")?(startToken=lookahead,token=lex(),expr=parseUnaryExpression(),strict&&expr.type===Syntax.Identifier&&isRestrictedWord(expr.name)&&throwErrorTolerant({},Messages.StrictLHSPrefix),isLeftHandSide(expr)||throwErrorTolerant({},Messages.InvalidLHSInAssignment),expr=new WrappingNode(startToken).finishUnaryExpression(token.value,expr)):match("+")||match("-")||match("~")||match("!")?(startToken=lookahead,token=lex(),expr=parseUnaryExpression(),expr=new WrappingNode(startToken).finishUnaryExpression(token.value,expr)):matchKeyword("delete")||matchKeyword("void")||matchKeyword("typeof")?(startToken=lookahead,token=lex(),expr=parseUnaryExpression(),expr=new WrappingNode(startToken).finishUnaryExpression(token.value,expr),strict&&"delete"===expr.operator&&expr.argument.type===Syntax.Identifier&&throwErrorTolerant({},Messages.StrictDelete)):expr=parsePostfixExpression(),expr}function binaryPrecedence(token,allowIn){var prec=0;if(token.type!==Token.Punctuator&&token.type!==Token.Keyword)return 0;switch(token.value){case"||":prec=1;break;case"&&":prec=2;break;case"|":prec=3;break;case"^":prec=4;break;case"&":prec=5;break;case"==":case"!=":case"===":case"!==":prec=6;break;case"<":case">":case"<=":case">=":case"instanceof":prec=7;break;case"in":prec=allowIn?7:0;break;case"<<":case">>":case">>>":prec=8;break;case"+":case"-":prec=9;break;case"*":case"/":case"%":prec=11}return prec}function parseBinaryExpression(){var marker,markers,expr,token,prec,stack,right,operator,left,i;if(marker=lookahead,left=parseUnaryExpression(),left===PlaceHolders.ArrowParameterPlaceHolder)return left;if(token=lookahead,prec=binaryPrecedence(token,state.allowIn),0===prec)return left;for(token.prec=prec,lex(),markers=[marker,lookahead],right=parseUnaryExpression(),stack=[left,token,right];(prec=binaryPrecedence(lookahead,state.allowIn))>0;){for(;stack.length>2&&prec<=stack[stack.length-2].prec;)right=stack.pop(),operator=stack.pop().value,left=stack.pop(),markers.pop(),expr=new WrappingNode(markers[markers.length-1]).finishBinaryExpression(operator,left,right),stack.push(expr);token=lex(),token.prec=prec,stack.push(token),markers.push(lookahead),expr=parseUnaryExpression(),stack.push(expr)}for(i=stack.length-1,expr=stack[i],markers.pop();i>1;)expr=new WrappingNode(markers.pop()).finishBinaryExpression(stack[i-1].value,stack[i-2],expr),i-=2;return expr}function parseConditionalExpression(){var expr,previousAllowIn,consequent,alternate,startToken;return startToken=lookahead,expr=parseBinaryExpression(),expr===PlaceHolders.ArrowParameterPlaceHolder?expr:(match("?")&&(lex(),previousAllowIn=state.allowIn,state.allowIn=!0,consequent=parseAssignmentExpression(),state.allowIn=previousAllowIn,expect(":"),alternate=parseAssignmentExpression(),expr=new WrappingNode(startToken).finishConditionalExpression(expr,consequent,alternate)),expr)}function parseConciseBody(){return match("{")?parseFunctionSourceElements():parseAssignmentExpression()}function reinterpretAsCoverFormalsList(expressions){var i,len,param,params,defaults,defaultCount,options,rest;for(params=[],defaults=[],defaultCount=0,rest=null,options={paramSet:{}},i=0,len=expressions.length;len>i;i+=1)if(param=expressions[i],param.type===Syntax.Identifier)params.push(param),defaults.push(null),validateParam(options,param,param.name);else{if(param.type!==Syntax.AssignmentExpression)return null;params.push(param.left),defaults.push(param.right),++defaultCount,validateParam(options,param.left,param.left.name)}return options.message===Messages.StrictParamDupe&&throwError(strict?options.stricted:options.firstRestricted,options.message),0===defaultCount&&(defaults=[]),{params:params,defaults:defaults,rest:rest,stricted:options.stricted,firstRestricted:options.firstRestricted,message:options.message}}function parseArrowFunctionExpression(options,node){var previousStrict,body;return expect("=>"),previousStrict=strict,body=parseConciseBody(),strict&&options.firstRestricted&&throwError(options.firstRestricted,options.message),strict&&options.stricted&&throwErrorTolerant(options.stricted,options.message),strict=previousStrict,node.finishArrowFunctionExpression(options.params,options.defaults,body,body.type!==Syntax.BlockStatement)}function parseAssignmentExpression(){var oldParenthesisCount,token,expr,right,list,startToken;return oldParenthesisCount=state.parenthesisCount,startToken=lookahead,token=lookahead,expr=parseConditionalExpression(),expr!==PlaceHolders.ArrowParameterPlaceHolder&&!match("=>")||state.parenthesisCount!==oldParenthesisCount&&state.parenthesisCount!==oldParenthesisCount+1||(expr.type===Syntax.Identifier?list=reinterpretAsCoverFormalsList([expr]):expr.type===Syntax.AssignmentExpression?list=reinterpretAsCoverFormalsList([expr]):expr.type===Syntax.SequenceExpression?list=reinterpretAsCoverFormalsList(expr.expressions):expr===PlaceHolders.ArrowParameterPlaceHolder&&(list=reinterpretAsCoverFormalsList([])),!list)?(matchAssign()&&(isLeftHandSide(expr)||throwErrorTolerant({},Messages.InvalidLHSInAssignment),strict&&expr.type===Syntax.Identifier&&isRestrictedWord(expr.name)&&throwErrorTolerant(token,Messages.StrictLHSAssignment),token=lex(),right=parseAssignmentExpression(),expr=new WrappingNode(startToken).finishAssignmentExpression(token.value,expr,right)),expr):parseArrowFunctionExpression(list,new WrappingNode(startToken))}function parseExpression(){var expr,expressions,startToken=lookahead;if(expr=parseAssignmentExpression(),match(",")){for(expressions=[expr];length>index&&match(",");)lex(),expressions.push(parseAssignmentExpression());expr=new WrappingNode(startToken).finishSequenceExpression(expressions)}return expr}function parseStatementList(){for(var statement,list=[];length>index&&!match("}")&&(statement=parseSourceElement(),"undefined"!=typeof statement);)list.push(statement);return list}function parseBlock(){var block,node=new Node;return expect("{"),block=parseStatementList(),expect("}"),node.finishBlockStatement(block)}function parseVariableIdentifier(){var token,node=new Node;return token=lex(),token.type!==Token.Identifier&&throwUnexpected(token),node.finishIdentifier(token.value)}function parseVariableDeclaration(kind){var id,init=null,node=new Node;return id=parseVariableIdentifier(),strict&&isRestrictedWord(id.name)&&throwErrorTolerant({},Messages.StrictVarName),"const"===kind?(expect("="),init=parseAssignmentExpression()):match("=")&&(lex(),init=parseAssignmentExpression()),node.finishVariableDeclarator(id,init)}function parseVariableDeclarationList(kind){var list=[];do{if(list.push(parseVariableDeclaration(kind)),!match(","))break;lex()}while(length>index);return list}function parseVariableStatement(node){var declarations;return expectKeyword("var"),declarations=parseVariableDeclarationList(),consumeSemicolon(),node.finishVariableDeclaration(declarations,"var")}function parseConstLetDeclaration(kind){var declarations,node=new Node;return expectKeyword(kind),declarations=parseVariableDeclarationList(kind),consumeSemicolon(),node.finishVariableDeclaration(declarations,kind)}function parseEmptyStatement(){var node=new Node;return expect(";"),node.finishEmptyStatement()}function parseExpressionStatement(node){var expr=parseExpression();return consumeSemicolon(),node.finishExpressionStatement(expr)}function parseIfStatement(node){var test,consequent,alternate;return expectKeyword("if"),expect("("),test=parseExpression(),expect(")"),consequent=parseStatement(),matchKeyword("else")?(lex(),alternate=parseStatement()):alternate=null,node.finishIfStatement(test,consequent,alternate)}function parseDoWhileStatement(node){var body,test,oldInIteration;return expectKeyword("do"),oldInIteration=state.inIteration,state.inIteration=!0,body=parseStatement(),state.inIteration=oldInIteration,expectKeyword("while"),expect("("),test=parseExpression(),expect(")"),match(";")&&lex(),node.finishDoWhileStatement(body,test)}function parseWhileStatement(node){var test,body,oldInIteration;return expectKeyword("while"),expect("("),test=parseExpression(),expect(")"),oldInIteration=state.inIteration,state.inIteration=!0,body=parseStatement(),state.inIteration=oldInIteration,node.finishWhileStatement(test,body)}function parseForVariableDeclaration(){var token,declarations,node=new Node;return token=lex(),declarations=parseVariableDeclarationList(),node.finishVariableDeclaration(declarations,token.value)}function parseForStatement(node){var init,test,update,left,right,body,oldInIteration,previousAllowIn=state.allowIn;return init=test=update=null,expectKeyword("for"),expect("("),match(";")?lex():(matchKeyword("var")||matchKeyword("let")?(state.allowIn=!1,init=parseForVariableDeclaration(),state.allowIn=previousAllowIn,1===init.declarations.length&&matchKeyword("in")&&(lex(),left=init,right=parseExpression(),init=null)):(state.allowIn=!1,init=parseExpression(),state.allowIn=previousAllowIn,matchKeyword("in")&&(isLeftHandSide(init)||throwErrorTolerant({},Messages.InvalidLHSInForIn),lex(),left=init,right=parseExpression(),init=null)),"undefined"==typeof left&&expect(";")),"undefined"==typeof left&&(match(";")||(test=parseExpression()),expect(";"),match(")")||(update=parseExpression())),expect(")"),oldInIteration=state.inIteration,state.inIteration=!0,body=parseStatement(),state.inIteration=oldInIteration,"undefined"==typeof left?node.finishForStatement(init,test,update,body):node.finishForInStatement(left,right,body)}function parseContinueStatement(node){var key,label=null;return expectKeyword("continue"),59===source.charCodeAt(index)?(lex(),state.inIteration||throwError({},Messages.IllegalContinue),node.finishContinueStatement(null)):peekLineTerminator()?(state.inIteration||throwError({},Messages.IllegalContinue),node.finishContinueStatement(null)):(lookahead.type===Token.Identifier&&(label=parseVariableIdentifier(),key="$"+label.name,Object.prototype.hasOwnProperty.call(state.labelSet,key)||throwError({},Messages.UnknownLabel,label.name)),consumeSemicolon(),null!==label||state.inIteration||throwError({},Messages.IllegalContinue),node.finishContinueStatement(label))}function parseBreakStatement(node){var key,label=null;return expectKeyword("break"),59===source.charCodeAt(index)?(lex(),state.inIteration||state.inSwitch||throwError({},Messages.IllegalBreak),node.finishBreakStatement(null)):peekLineTerminator()?(state.inIteration||state.inSwitch||throwError({},Messages.IllegalBreak),node.finishBreakStatement(null)):(lookahead.type===Token.Identifier&&(label=parseVariableIdentifier(),key="$"+label.name,Object.prototype.hasOwnProperty.call(state.labelSet,key)||throwError({},Messages.UnknownLabel,label.name)),consumeSemicolon(),null!==label||state.inIteration||state.inSwitch||throwError({},Messages.IllegalBreak),node.finishBreakStatement(label))}function parseReturnStatement(node){var argument=null;return expectKeyword("return"),state.inFunctionBody||throwErrorTolerant({},Messages.IllegalReturn),32===source.charCodeAt(index)&&isIdentifierStart(source.charCodeAt(index+1))?(argument=parseExpression(),consumeSemicolon(),node.finishReturnStatement(argument)):peekLineTerminator()?node.finishReturnStatement(null):(match(";")||match("}")||lookahead.type===Token.EOF||(argument=parseExpression()),consumeSemicolon(),node.finishReturnStatement(argument))}function parseWithStatement(node){var object,body;return strict&&(skipComment(),throwErrorTolerant({},Messages.StrictModeWith)),expectKeyword("with"),expect("("),object=parseExpression(),expect(")"),body=parseStatement(),node.finishWithStatement(object,body)}function parseSwitchCase(){var test,statement,consequent=[],node=new Node;for(matchKeyword("default")?(lex(),test=null):(expectKeyword("case"),test=parseExpression()),expect(":");length>index&&!(match("}")||matchKeyword("default")||matchKeyword("case"));)statement=parseStatement(),consequent.push(statement);return node.finishSwitchCase(test,consequent)}function parseSwitchStatement(node){var discriminant,cases,clause,oldInSwitch,defaultFound;if(expectKeyword("switch"),expect("("),discriminant=parseExpression(),expect(")"),expect("{"),cases=[],match("}"))return lex(),node.finishSwitchStatement(discriminant,cases);for(oldInSwitch=state.inSwitch,state.inSwitch=!0,defaultFound=!1;length>index&&!match("}");)clause=parseSwitchCase(),
null===clause.test&&(defaultFound&&throwError({},Messages.MultipleDefaultsInSwitch),defaultFound=!0),cases.push(clause);return state.inSwitch=oldInSwitch,expect("}"),node.finishSwitchStatement(discriminant,cases)}function parseThrowStatement(node){var argument;return expectKeyword("throw"),peekLineTerminator()&&throwError({},Messages.NewlineAfterThrow),argument=parseExpression(),consumeSemicolon(),node.finishThrowStatement(argument)}function parseCatchClause(){var param,body,node=new Node;return expectKeyword("catch"),expect("("),match(")")&&throwUnexpected(lookahead),param=parseVariableIdentifier(),strict&&isRestrictedWord(param.name)&&throwErrorTolerant({},Messages.StrictCatchVariable),expect(")"),body=parseBlock(),node.finishCatchClause(param,body)}function parseTryStatement(node){var block,handlers=[],finalizer=null;return expectKeyword("try"),block=parseBlock(),matchKeyword("catch")&&handlers.push(parseCatchClause()),matchKeyword("finally")&&(lex(),finalizer=parseBlock()),0!==handlers.length||finalizer||throwError({},Messages.NoCatchOrFinally),node.finishTryStatement(block,[],handlers,finalizer)}function parseDebuggerStatement(node){return expectKeyword("debugger"),consumeSemicolon(),node.finishDebuggerStatement()}function parseStatement(){var expr,labeledBody,key,node,type=lookahead.type;if(type===Token.EOF&&throwUnexpected(lookahead),type===Token.Punctuator&&"{"===lookahead.value)return parseBlock();if(node=new Node,type===Token.Punctuator)switch(lookahead.value){case";":return parseEmptyStatement(node);case"(":return parseExpressionStatement(node)}else if(type===Token.Keyword)switch(lookahead.value){case"break":return parseBreakStatement(node);case"continue":return parseContinueStatement(node);case"debugger":return parseDebuggerStatement(node);case"do":return parseDoWhileStatement(node);case"for":return parseForStatement(node);case"function":return parseFunctionDeclaration(node);case"if":return parseIfStatement(node);case"return":return parseReturnStatement(node);case"switch":return parseSwitchStatement(node);case"throw":return parseThrowStatement(node);case"try":return parseTryStatement(node);case"var":return parseVariableStatement(node);case"while":return parseWhileStatement(node);case"with":return parseWithStatement(node)}return expr=parseExpression(),expr.type===Syntax.Identifier&&match(":")?(lex(),key="$"+expr.name,Object.prototype.hasOwnProperty.call(state.labelSet,key)&&throwError({},Messages.Redeclaration,"Label",expr.name),state.labelSet[key]=!0,labeledBody=parseStatement(),delete state.labelSet[key],node.finishLabeledStatement(expr,labeledBody)):(consumeSemicolon(),node.finishExpressionStatement(expr))}function parseFunctionSourceElements(){var sourceElement,token,directive,firstRestricted,oldLabelSet,oldInIteration,oldInSwitch,oldInFunctionBody,oldParenthesisCount,sourceElements=[],node=new Node;for(expect("{");length>index&&lookahead.type===Token.StringLiteral&&(token=lookahead,sourceElement=parseSourceElement(),sourceElements.push(sourceElement),sourceElement.expression.type===Syntax.Literal);)directive=source.slice(token.start+1,token.end-1),"use strict"===directive?(strict=!0,firstRestricted&&throwErrorTolerant(firstRestricted,Messages.StrictOctalLiteral)):!firstRestricted&&token.octal&&(firstRestricted=token);for(oldLabelSet=state.labelSet,oldInIteration=state.inIteration,oldInSwitch=state.inSwitch,oldInFunctionBody=state.inFunctionBody,oldParenthesisCount=state.parenthesizedCount,state.labelSet={},state.inIteration=!1,state.inSwitch=!1,state.inFunctionBody=!0,state.parenthesizedCount=0;length>index&&!match("}")&&(sourceElement=parseSourceElement(),"undefined"!=typeof sourceElement);)sourceElements.push(sourceElement);return expect("}"),state.labelSet=oldLabelSet,state.inIteration=oldInIteration,state.inSwitch=oldInSwitch,state.inFunctionBody=oldInFunctionBody,state.parenthesizedCount=oldParenthesisCount,node.finishBlockStatement(sourceElements)}function validateParam(options,param,name){var key="$"+name;strict?(isRestrictedWord(name)&&(options.stricted=param,options.message=Messages.StrictParamName),Object.prototype.hasOwnProperty.call(options.paramSet,key)&&(options.stricted=param,options.message=Messages.StrictParamDupe)):options.firstRestricted||(isRestrictedWord(name)?(options.firstRestricted=param,options.message=Messages.StrictParamName):isStrictModeReservedWord(name)?(options.firstRestricted=param,options.message=Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(options.paramSet,key)&&(options.firstRestricted=param,options.message=Messages.StrictParamDupe)),options.paramSet[key]=!0}function parseParam(options){var token,param,def;return token=lookahead,param=parseVariableIdentifier(),validateParam(options,token,token.value),match("=")&&(lex(),def=parseAssignmentExpression(),++options.defaultCount),options.params.push(param),options.defaults.push(def),!match(")")}function parseParams(firstRestricted){var options;if(options={params:[],defaultCount:0,defaults:[],firstRestricted:firstRestricted},expect("("),!match(")"))for(options.paramSet={};length>index&&parseParam(options);)expect(",");return expect(")"),0===options.defaultCount&&(options.defaults=[]),{params:options.params,defaults:options.defaults,stricted:options.stricted,firstRestricted:options.firstRestricted,message:options.message}}function parseFunctionDeclaration(){var id,body,token,stricted,tmp,firstRestricted,message,previousStrict,params=[],defaults=[],node=new Node;return expectKeyword("function"),token=lookahead,id=parseVariableIdentifier(),strict?isRestrictedWord(token.value)&&throwErrorTolerant(token,Messages.StrictFunctionName):isRestrictedWord(token.value)?(firstRestricted=token,message=Messages.StrictFunctionName):isStrictModeReservedWord(token.value)&&(firstRestricted=token,message=Messages.StrictReservedWord),tmp=parseParams(firstRestricted),params=tmp.params,defaults=tmp.defaults,stricted=tmp.stricted,firstRestricted=tmp.firstRestricted,tmp.message&&(message=tmp.message),previousStrict=strict,body=parseFunctionSourceElements(),strict&&firstRestricted&&throwError(firstRestricted,message),strict&&stricted&&throwErrorTolerant(stricted,message),strict=previousStrict,node.finishFunctionDeclaration(id,params,defaults,body)}function parseFunctionExpression(){var token,stricted,firstRestricted,message,tmp,body,previousStrict,id=null,params=[],defaults=[],node=new Node;return expectKeyword("function"),match("(")||(token=lookahead,id=parseVariableIdentifier(),strict?isRestrictedWord(token.value)&&throwErrorTolerant(token,Messages.StrictFunctionName):isRestrictedWord(token.value)?(firstRestricted=token,message=Messages.StrictFunctionName):isStrictModeReservedWord(token.value)&&(firstRestricted=token,message=Messages.StrictReservedWord)),tmp=parseParams(firstRestricted),params=tmp.params,defaults=tmp.defaults,stricted=tmp.stricted,firstRestricted=tmp.firstRestricted,tmp.message&&(message=tmp.message),previousStrict=strict,body=parseFunctionSourceElements(),strict&&firstRestricted&&throwError(firstRestricted,message),strict&&stricted&&throwErrorTolerant(stricted,message),strict=previousStrict,node.finishFunctionExpression(id,params,defaults,body)}function parseSourceElement(){if(lookahead.type===Token.Keyword)switch(lookahead.value){case"const":case"let":return parseConstLetDeclaration(lookahead.value);case"function":return parseFunctionDeclaration();default:return parseStatement()}return lookahead.type!==Token.EOF?parseStatement():void 0}function parseSourceElements(){for(var sourceElement,token,directive,firstRestricted,sourceElements=[];length>index&&(token=lookahead,token.type===Token.StringLiteral)&&(sourceElement=parseSourceElement(),sourceElements.push(sourceElement),sourceElement.expression.type===Syntax.Literal);)directive=source.slice(token.start+1,token.end-1),"use strict"===directive?(strict=!0,firstRestricted&&throwErrorTolerant(firstRestricted,Messages.StrictOctalLiteral)):!firstRestricted&&token.octal&&(firstRestricted=token);for(;length>index&&(sourceElement=parseSourceElement(),"undefined"!=typeof sourceElement);)sourceElements.push(sourceElement);return sourceElements}function parseProgram(){var body,node;return skipComment(),peek(),node=new Node,strict=!1,body=parseSourceElements(),node.finishProgram(body)}function filterTokenLocation(){var i,entry,token,tokens=[];for(i=0;i<extra.tokens.length;++i)entry=extra.tokens[i],token={type:entry.type,value:entry.value},extra.range&&(token.range=entry.range),extra.loc&&(token.loc=entry.loc),tokens.push(token);extra.tokens=tokens}function tokenize(code,options){var toString,tokens;toString=String,"string"==typeof code||code instanceof String||(code=toString(code)),source=code,index=0,lineNumber=source.length>0?1:0,lineStart=0,length=source.length,lookahead=null,state={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},extra={},options=options||{},options.tokens=!0,extra.tokens=[],extra.tokenize=!0,extra.openParenToken=-1,extra.openCurlyToken=-1,extra.range="boolean"==typeof options.range&&options.range,extra.loc="boolean"==typeof options.loc&&options.loc,"boolean"==typeof options.comment&&options.comment&&(extra.comments=[]),"boolean"==typeof options.tolerant&&options.tolerant&&(extra.errors=[]);try{if(peek(),lookahead.type===Token.EOF)return extra.tokens;for(lex();lookahead.type!==Token.EOF;)try{lex()}catch(lexError){if(extra.errors){extra.errors.push(lexError);break}throw lexError}filterTokenLocation(),tokens=extra.tokens,"undefined"!=typeof extra.comments&&(tokens.comments=extra.comments),"undefined"!=typeof extra.errors&&(tokens.errors=extra.errors)}catch(e){throw e}finally{extra={}}return tokens}function parse(code,options){var program,toString;toString=String,"string"==typeof code||code instanceof String||(code=toString(code)),source=code,index=0,lineNumber=source.length>0?1:0,lineStart=0,length=source.length,lookahead=null,state={allowIn:!0,labelSet:{},parenthesisCount:0,inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},extra={},"undefined"!=typeof options&&(extra.range="boolean"==typeof options.range&&options.range,extra.loc="boolean"==typeof options.loc&&options.loc,extra.attachComment="boolean"==typeof options.attachComment&&options.attachComment,extra.loc&&null!==options.source&&void 0!==options.source&&(extra.source=toString(options.source)),"boolean"==typeof options.tokens&&options.tokens&&(extra.tokens=[]),"boolean"==typeof options.comment&&options.comment&&(extra.comments=[]),"boolean"==typeof options.tolerant&&options.tolerant&&(extra.errors=[]),extra.attachComment&&(extra.range=!0,extra.comments=[],extra.bottomRightStack=[],extra.trailingComments=[],extra.leadingComments=[]));try{program=parseProgram(),"undefined"!=typeof extra.comments&&(program.comments=extra.comments),"undefined"!=typeof extra.tokens&&(filterTokenLocation(),program.tokens=extra.tokens),"undefined"!=typeof extra.errors&&(program.errors=extra.errors)}catch(e){throw e}finally{extra={}}return program}var Token,TokenName,FnExprTokens,Syntax,PlaceHolders,PropertyKind,Messages,Regex,source,strict,index,lineNumber,lineStart,length,lookahead,state,extra;Token={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9},TokenName={},TokenName[Token.BooleanLiteral]="Boolean",TokenName[Token.EOF]="<end>",TokenName[Token.Identifier]="Identifier",TokenName[Token.Keyword]="Keyword",TokenName[Token.NullLiteral]="Null",TokenName[Token.NumericLiteral]="Numeric",TokenName[Token.Punctuator]="Punctuator",TokenName[Token.StringLiteral]="String",TokenName[Token.RegularExpression]="RegularExpression",FnExprTokens=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],Syntax={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",ArrowFunctionExpression:"ArrowFunctionExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},PlaceHolders={ArrowParameterPlaceHolder:{type:"ArrowParameterPlaceHolder"}},PropertyKind={Data:1,Get:2,Set:4},Messages={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},Regex={NonAsciiIdentifierStart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢲऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞭꞰꞱꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭟꭤꭥꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),NonAsciiIdentifierPart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԯԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠ-ࢲࣤ-ॣ०-९ॱ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఀ-ఃఅ-ఌఎ-ఐఒ-నప-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಁ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲഁ-ഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟ෦-෯ෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤞᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧ᪰-᪽ᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶ᳸᳹ᴀ-᷵᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚝꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞭꞰꞱꟷ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꧠ-ꧾꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭟꭤꭥꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︭︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]")},WrappingNode.prototype=Node.prototype={processComment:function(){var lastChild,trailingComments,bottomRight=extra.bottomRightStack,last=bottomRight[bottomRight.length-1];if(!(this.type===Syntax.Program&&this.body.length>0)){if(extra.trailingComments.length>0?extra.trailingComments[0].range[0]>=this.range[1]?(trailingComments=extra.trailingComments,extra.trailingComments=[]):extra.trailingComments.length=0:last&&last.trailingComments&&last.trailingComments[0].range[0]>=this.range[1]&&(trailingComments=last.trailingComments,delete last.trailingComments),last)for(;last&&last.range[0]>=this.range[0];)lastChild=last,last=bottomRight.pop();lastChild?lastChild.leadingComments&&lastChild.leadingComments[lastChild.leadingComments.length-1].range[1]<=this.range[0]&&(this.leadingComments=lastChild.leadingComments,lastChild.leadingComments=void 0):extra.leadingComments.length>0&&extra.leadingComments[extra.leadingComments.length-1].range[1]<=this.range[0]&&(this.leadingComments=extra.leadingComments,extra.leadingComments=[]),trailingComments&&(this.trailingComments=trailingComments),bottomRight.push(this)}},finish:function(){extra.range&&(this.range[1]=index),extra.loc&&(this.loc.end=new Position,extra.source&&(this.loc.source=extra.source)),extra.attachComment&&this.processComment()},finishArrayExpression:function(elements){return this.type=Syntax.ArrayExpression,this.elements=elements,this.finish(),this},finishArrowFunctionExpression:function(params,defaults,body,expression){return this.type=Syntax.ArrowFunctionExpression,this.id=null,this.params=params,this.defaults=defaults,this.body=body,this.rest=null,this.generator=!1,this.expression=expression,this.finish(),this},finishAssignmentExpression:function(operator,left,right){return this.type=Syntax.AssignmentExpression,this.operator=operator,this.left=left,this.right=right,this.finish(),this},finishBinaryExpression:function(operator,left,right){return this.type="||"===operator||"&&"===operator?Syntax.LogicalExpression:Syntax.BinaryExpression,this.operator=operator,this.left=left,this.right=right,this.finish(),this},finishBlockStatement:function(body){return this.type=Syntax.BlockStatement,this.body=body,this.finish(),this},finishBreakStatement:function(label){return this.type=Syntax.BreakStatement,this.label=label,this.finish(),this},finishCallExpression:function(callee,args){return this.type=Syntax.CallExpression,this.callee=callee,this.arguments=args,this.finish(),this},finishCatchClause:function(param,body){return this.type=Syntax.CatchClause,this.param=param,this.body=body,this.finish(),this},finishConditionalExpression:function(test,consequent,alternate){return this.type=Syntax.ConditionalExpression,this.test=test,this.consequent=consequent,this.alternate=alternate,this.finish(),this},finishContinueStatement:function(label){return this.type=Syntax.ContinueStatement,this.label=label,this.finish(),this},finishDebuggerStatement:function(){return this.type=Syntax.DebuggerStatement,this.finish(),this},finishDoWhileStatement:function(body,test){return this.type=Syntax.DoWhileStatement,this.body=body,this.test=test,this.finish(),this},finishEmptyStatement:function(){return this.type=Syntax.EmptyStatement,this.finish(),this},finishExpressionStatement:function(expression){return this.type=Syntax.ExpressionStatement,this.expression=expression,this.finish(),this},finishForStatement:function(init,test,update,body){return this.type=Syntax.ForStatement,this.init=init,this.test=test,this.update=update,this.body=body,this.finish(),this},finishForInStatement:function(left,right,body){return this.type=Syntax.ForInStatement,this.left=left,this.right=right,this.body=body,this.each=!1,this.finish(),this},finishFunctionDeclaration:function(id,params,defaults,body){return this.type=Syntax.FunctionDeclaration,this.id=id,this.params=params,this.defaults=defaults,this.body=body,this.rest=null,this.generator=!1,this.expression=!1,this.finish(),this},finishFunctionExpression:function(id,params,defaults,body){return this.type=Syntax.FunctionExpression,this.id=id,this.params=params,this.defaults=defaults,this.body=body,this.rest=null,this.generator=!1,this.expression=!1,this.finish(),this},finishIdentifier:function(name){return this.type=Syntax.Identifier,this.name=name,this.finish(),this},finishIfStatement:function(test,consequent,alternate){return this.type=Syntax.IfStatement,this.test=test,this.consequent=consequent,this.alternate=alternate,this.finish(),this},finishLabeledStatement:function(label,body){return this.type=Syntax.LabeledStatement,this.label=label,this.body=body,this.finish(),this},finishLiteral:function(token){return this.type=Syntax.Literal,this.value=token.value,this.raw=source.slice(token.start,token.end),this.finish(),this},finishMemberExpression:function(accessor,object,property){return this.type=Syntax.MemberExpression,this.computed="["===accessor,this.object=object,this.property=property,this.finish(),this},finishNewExpression:function(callee,args){return this.type=Syntax.NewExpression,this.callee=callee,this.arguments=args,this.finish(),this},finishObjectExpression:function(properties){return this.type=Syntax.ObjectExpression,this.properties=properties,this.finish(),this},finishPostfixExpression:function(operator,argument){return this.type=Syntax.UpdateExpression,this.operator=operator,this.argument=argument,this.prefix=!1,this.finish(),this},finishProgram:function(body){return this.type=Syntax.Program,this.body=body,this.finish(),this},finishProperty:function(kind,key,value){return this.type=Syntax.Property,this.key=key,this.value=value,this.kind=kind,this.finish(),this},finishReturnStatement:function(argument){return this.type=Syntax.ReturnStatement,this.argument=argument,this.finish(),this},finishSequenceExpression:function(expressions){return this.type=Syntax.SequenceExpression,this.expressions=expressions,this.finish(),this},finishSwitchCase:function(test,consequent){return this.type=Syntax.SwitchCase,this.test=test,this.consequent=consequent,this.finish(),this},finishSwitchStatement:function(discriminant,cases){return this.type=Syntax.SwitchStatement,this.discriminant=discriminant,this.cases=cases,this.finish(),this},finishThisExpression:function(){return this.type=Syntax.ThisExpression,this.finish(),this},finishThrowStatement:function(argument){return this.type=Syntax.ThrowStatement,this.argument=argument,this.finish(),this},finishTryStatement:function(block,guardedHandlers,handlers,finalizer){return this.type=Syntax.TryStatement,this.block=block,this.guardedHandlers=guardedHandlers,this.handlers=handlers,this.finalizer=finalizer,this.finish(),this},finishUnaryExpression:function(operator,argument){return this.type="++"===operator||"--"===operator?Syntax.UpdateExpression:Syntax.UnaryExpression,this.operator=operator,this.argument=argument,this.prefix=!0,this.finish(),this},finishVariableDeclaration:function(declarations,kind){return this.type=Syntax.VariableDeclaration,this.declarations=declarations,this.kind=kind,this.finish(),this},finishVariableDeclarator:function(id,init){return this.type=Syntax.VariableDeclarator,this.id=id,this.init=init,this.finish(),this},finishWhileStatement:function(test,body){return this.type=Syntax.WhileStatement,this.test=test,this.body=body,this.finish(),this},finishWithStatement:function(object,body){return this.type=Syntax.WithStatement,this.object=object,this.body=body,this.finish(),this}},exports.version="2.0.0-dev",exports.tokenize=tokenize,exports.parse=parse,exports.Syntax=function(){var name,types={};"function"==typeof Object.create&&(types=Object.create(null));for(name in Syntax)Syntax.hasOwnProperty(name)&&(types[name]=Syntax[name]);return"function"==typeof Object.freeze&&Object.freeze(types),types}()})},$__modules__.WebAuthBroker=function(exports){function isWebAuthBrokerAvailable(){return!!(window.Windows&&window.Windows.Security&&window.Windows.Security.Authentication&&window.Windows.Security.Authentication.Web&&window.Windows.Security.Authentication.Web.WebAuthenticationBroker)}exports.supportsCurrentRuntime=function(){return isWebAuthBrokerAvailable()},exports.login=function(startUri,endUri,callback){var windowsWebAuthBroker=Windows.Security.Authentication.Web.WebAuthenticationBroker,noneWebAuthOptions=Windows.Security.Authentication.Web.WebAuthenticationOptions.none,successWebAuthStatus=Windows.Security.Authentication.Web.WebAuthenticationStatus.success,activationKindWebAuthContinuation=Windows.ApplicationModel.Activation.ActivationKind.webAuthenticationBrokerContinuation,webAuthBrokerSuccessCallback=null,webAuthBrokerErrorCallback=null,webAuthBrokerContinuationCallback=null;if(webAuthBrokerSuccessCallback=function(result){var error=null,token=null;if(result.responseStatus!==successWebAuthStatus)error=result;else{var callbackEndUri=result.responseData,tokenAsJson=null,i=callbackEndUri.indexOf("#token=");if(i>0?tokenAsJson=decodeURIComponent(callbackEndUri.substring(i+7)):(i=callbackEndUri.indexOf("#error="),i>0&&(error=decodeURIComponent(callbackEndUri.substring(i+7)))),null!==tokenAsJson)try{token=JSON.parse(tokenAsJson)}catch(e){error=e}}callback(error,token)},webAuthBrokerErrorCallback=function(error){callback(error,null)},webAuthBrokerContinuationCallback=function(activationArgs){if(activationArgs.detail.kind===activationKindWebAuthContinuation){var result=activationArgs.detail.webAuthenticationResult;result.responseStatus==successWebAuthStatus?webAuthBrokerSuccessCallback(result):webAuthBrokerErrorCallback(result),WinJS.Application.removeEventListener("activated",webAuthBrokerContinuationCallback)}},endUri){var windowsStartUri=new Windows.Foundation.Uri(startUri),windowsEndUri=new Windows.Foundation.Uri(endUri);windowsWebAuthBroker.authenticateAndContinue?(WinJS.Application.addEventListener("activated",webAuthBrokerContinuationCallback,!0),windowsWebAuthBroker.authenticateAndContinue(windowsStartUri,windowsEndUri)):windowsWebAuthBroker.authenticateAsync(noneWebAuthOptions,windowsStartUri,windowsEndUri).done(webAuthBrokerSuccessCallback,webAuthBrokerErrorCallback)}else{var redirectUri=windowsWebAuthBroker.getCurrentApplicationCallbackUri().absoluteUri,startUriWithRedirect=startUri+"?sso_end_uri="+encodeURIComponent(redirectUri),windowsStartUriWithRedirect=new Windows.Foundation.Uri(startUriWithRedirect);windowsWebAuthBroker.authenticateAndContinue?(WinJS.Application.addEventListener("activated",webAuthBrokerContinuationCallback,!0),windowsWebAuthBroker.authenticateAndContinue(windowsStartUriWithRedirect)):windowsWebAuthBroker.authenticateAsync(noneWebAuthOptions,windowsStartUriWithRedirect).done(webAuthBrokerSuccessCallback,webAuthBrokerErrorCallback)}}},$__modules__.Platform=function(exports){var _=require("Extensions"),Validate=require("Validate"),WebAuthBroker=require("WebAuthBroker");exports.async=function(func){return function(){var that=this,args=arguments;return new WinJS.Promise(function(complete,error){var callback=function(err){_.isNull(err)?complete.apply(null,Array.prototype.slice.call(arguments,1)):error(err)};Array.prototype.push.call(args,callback);try{func.apply(that,args)}catch(ex){callback(_.createError(ex))}})}},exports.addToMobileServicesClientNamespace=function(declarations){try{WinJS.Namespace.define("WindowsAzure",declarations)}catch(ex){}},exports.readSetting=function(name){var localSettings=Windows.Storage.ApplicationData.current.localSettings;return _.isNull(localSettings)?null:localSettings.values[name]},exports.writeSetting=function(name,value){var localSettings=Windows.Storage.ApplicationData.current.localSettings;_.isNull(localSettings)||(localSettings.values[name]=value)},exports.webRequest=function(request,callback){WinJS.xhr(request).done(function(response){callback(null,response)},function(error){callback(null,error)})},exports.login=function(startUri,endUri,callback){_.isNull(callback)&&"function"==typeof endUri&&(callback=endUri,endUri=null),Validate.notNullOrEmpty(startUri,"startUri"),Validate.isString(startUri,"startUri"),WebAuthBroker.login(startUri,endUri,callback)},exports.getOperatingSystemInfo=function(){var architecture="Unknown",archValue=Windows.ApplicationModel.Package.current.id.architecture;switch(archValue){case 0:architecture="X86";break;case 5:architecture="Arm";break;case 9:architecture="X64";break;case 11:architecture="Neutral"}return{name:"Windows 8",version:"--",architecture:architecture}},exports.getSdkInfo=function(){return{language:"WinJS",fileVersion:$__fileVersion__}},exports.getUserAgent=function(){return null},exports.toJson=function(value){return JSON.stringify(value)},exports.tryParseIsoDateString=function(text){if(Validate.isString(text),/^(\d{4})-(\d{2})-(\d{2})T(\d{2})\:(\d{2})\:(\d{2})(\.(\d{1,3}))?Z$/.test(text)){var ticks=Date.parse(text);if(!isNaN(ticks))return new Date(ticks)}return null},exports.getResourceString=function(resourceName){var resourceManager=Windows.ApplicationModel.Resources.Core.ResourceManager.current,resource=resourceManager.mainResourceMap.getValue("MobileServices/Resources/"+resourceName);return resource.valueAsString},exports.allowPlatformToMutateOriginal=function(original,updated){if(!_.isNull(original)&&!_.isNull(updated)){var key=null,binding=WinJS.Binding.as(original);for(key in updated)key in original?binding[key]=updated[key]:binding.addProperty(key,updated[key])}return original}},require("MobileServiceClient")}(this||exports);
// SIG // Begin signature block
// SIG // MIIkJAYJKoZIhvcNAQcCoIIkFTCCJBECAQExDzANBglg
// SIG // hkgBZQMEAgEFADB3BgorBgEEAYI3AgEEoGkwZzAyBgor
// SIG // BgEEAYI3AgEeMCQCAQEEEBDgyQbOONQRoqMAEEvTUJAC
// SIG // AQACAQACAQACAQACAQAwMTANBglghkgBZQMEAgEFAAQg
// SIG // BJ0unfrffrb3KPacMClcKqklyY7tZFQUpAL9t1iYU66g
// SIG // gg2SMIIGEDCCA/igAwIBAgITMwAAADiNI20WJ6Mm4AAA
// SIG // AAAAODANBgkqhkiG9w0BAQsFADB+MQswCQYDVQQGEwJV
// SIG // UzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMH
// SIG // UmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0IENvcnBv
// SIG // cmF0aW9uMSgwJgYDVQQDEx9NaWNyb3NvZnQgQ29kZSBT
// SIG // aWduaW5nIFBDQSAyMDExMB4XDTE0MTAwMTE4MTExNloX
// SIG // DTE2MDEwMTE4MTExNlowgYMxCzAJBgNVBAYTAlVTMRMw
// SIG // EQYDVQQIEwpXYXNoaW5ndG9uMRAwDgYDVQQHEwdSZWRt
// SIG // b25kMR4wHAYDVQQKExVNaWNyb3NvZnQgQ29ycG9yYXRp
// SIG // b24xDTALBgNVBAsTBE1PUFIxHjAcBgNVBAMTFU1pY3Jv
// SIG // c29mdCBDb3Jwb3JhdGlvbjCCASIwDQYJKoZIhvcNAQEB
// SIG // BQADggEPADCCAQoCggEBAMLe1s/it38RZf+zY6nzcrnx
// SIG // JOtfpByyRFnrb5z7cNtlaZqrkDFe/94rZBH17WzpACGC
// SIG // w5DMghmj45ljZYq909X7IKPgGX+4jTxq/sgSjeXTOe9N
// SIG // Tj6GlkwRsRGEmyeYiDst1H0Y8wXgrUsEPkN1GeZGxIyd
// SIG // 24nYJIe+9Ecnv22N3Hi5w2WhbzfqvHGmnayOj42IkX6o
// SIG // NyXZgSSpiPRjRuq7IMkBL9iODNnZ7eA2+2RoTfxCL5Eg
// SIG // qQiaKEpHqPD+2bJ6/djoOAG8gUWrOugaKt05gz8H29jh
// SIG // j/w5LDaeAZ/vaHfIeG8++CD/lhoQvvGq0GGeqJqEvz6u
// SIG // r8oKWeWNiwUCAwEAAaOCAX8wggF7MB8GA1UdJQQYMBYG
// SIG // CCsGAQUFBwMDBgorBgEEAYI3TAgBMB0GA1UdDgQWBBTG
// SIG // 8coYEgskpUX1guR1JdAvMNdiczBRBgNVHREESjBIpEYw
// SIG // RDENMAsGA1UECxMETU9QUjEzMDEGA1UEBRMqMzE2NDIr
// SIG // YzIyYzk5MzYtYjNjNy00MjcxLWE0YmQtZmUwM2ZhNzJj
// SIG // M2YwMB8GA1UdIwQYMBaAFEhuZOVQBdOCqhc3NyK1bajK
// SIG // dQKVMFQGA1UdHwRNMEswSaBHoEWGQ2h0dHA6Ly93d3cu
// SIG // bWljcm9zb2Z0LmNvbS9wa2lvcHMvY3JsL01pY0NvZFNp
// SIG // Z1BDQTIwMTFfMjAxMS0wNy0wOC5jcmwwYQYIKwYBBQUH
// SIG // AQEEVTBTMFEGCCsGAQUFBzAChkVodHRwOi8vd3d3Lm1p
// SIG // Y3Jvc29mdC5jb20vcGtpb3BzL2NlcnRzL01pY0NvZFNp
// SIG // Z1BDQTIwMTFfMjAxMS0wNy0wOC5jcnQwDAYDVR0TAQH/
// SIG // BAIwADANBgkqhkiG9w0BAQsFAAOCAgEAnnJuqLq2NRqN
// SIG // hLA6lTfiNM177M9T5O6rxhgxFjN7TyL+k3VWR010a5mH
// SIG // XC50iHClRm+0nBuYWRJNNL7Q3HWzXQwz1tgF9jUbfolI
// SIG // weWJpS06NydHHu5o02haRqKshfv/0Ojo1WBV50RrTc+9
// SIG // 3qXcu9V6i9PjSMdGe3WYc/nDyOyIEAv3Ki0TeBKP/muo
// SIG // mF4cSc46pjSWYtvu5uMM2Rtjx/oYYey5AAir5Mx8EqW2
// SIG // pr1lYA4dM1k43xbhMlx+0HsSB4G0fripXdtE/2ZMnkAm
// SIG // qUz+Tok/ltFsxdiuyyZm4b9l4/e7Y/qobSkqHSfKTifK
// SIG // tvFM6uanbQqwkS7DhH1ygLH4Pg5g2cy7G4CQT4sRiF53
// SIG // CLvjiqt/bwk+K6xnwUftsqhdejywBfVgitVG8FZc8qcr
// SIG // sC4RFq/ikdLfKK3m1ZU/+Lj1a/8C57nbzbz9s0DAca5G
// SIG // nYxu5PYFXezuACeDyEZ75sI64e8cu/ehN0blhquXrnV6
// SIG // du6eSzsGyh+oXKyNFTkh5r3hwneZofck8dk4HkwL+e7/
// SIG // kW20ikoXiChj2FBjXOeq+1WLxEGDNwNAAXBjn7iw+WhH
// SIG // X6JyiwlTDj+7jUKgEzlLwkGDLzD4Wyb4H7ktTnkMu+x6
// SIG // XZ83atlIrXadL+m+bDZYGtWS/Ozf87FeMhSpExP1KZP1
// SIG // yTgW1zXnazgwggd6MIIFYqADAgECAgphDpDSAAAAAAAD
// SIG // MA0GCSqGSIb3DQEBCwUAMIGIMQswCQYDVQQGEwJVUzET
// SIG // MBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVk
// SIG // bW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0IENvcnBvcmF0
// SIG // aW9uMTIwMAYDVQQDEylNaWNyb3NvZnQgUm9vdCBDZXJ0
// SIG // aWZpY2F0ZSBBdXRob3JpdHkgMjAxMTAeFw0xMTA3MDgy
// SIG // MDU5MDlaFw0yNjA3MDgyMTA5MDlaMH4xCzAJBgNVBAYT
// SIG // AlVTMRMwEQYDVQQIEwpXYXNoaW5ndG9uMRAwDgYDVQQH
// SIG // EwdSZWRtb25kMR4wHAYDVQQKExVNaWNyb3NvZnQgQ29y
// SIG // cG9yYXRpb24xKDAmBgNVBAMTH01pY3Jvc29mdCBDb2Rl
// SIG // IFNpZ25pbmcgUENBIDIwMTEwggIiMA0GCSqGSIb3DQEB
// SIG // AQUAA4ICDwAwggIKAoICAQCr8PpyEBwurdhuqoIQTTS6
// SIG // 8rZYIZ9CGypr6VpQqrgGOBoESbp/wwwe3TdrxhLYC/A4
// SIG // wpkGsMg51QEUMULTiQ15ZId+lGAkbK+eSZzpaF7S35tT
// SIG // sgosw6/ZqSuuegmv15ZZymAaBelmdugyUiYSL+erCFDP
// SIG // s0S3XdjELgN1q2jzy23zOlyhFvRGuuA4ZKxuZDV4pqBj
// SIG // Dy3TQJP4494HDdVceaVJKecNvqATd76UPe/74ytaEB9N
// SIG // ViiienLgEjq3SV7Y7e1DkYPZe7J7hhvZPrGMXeiJT4Qa
// SIG // 8qEvWeSQOy2uM1jFtz7+MtOzAz2xsq+SOH7SnYAs9U5W
// SIG // kSE1JcM5bmR/U7qcD60ZI4TL9LoDho33X/DQUr+MlIe8
// SIG // wCF0JV8YKLbMJyg4JZg5SjbPfLGSrhwjp6lm7GEfauEo
// SIG // SZ1fiOIlXdMhSz5SxLVXPyQD8NF6Wy/VI+NwXQ9RRnez
// SIG // +ADhvKwCgl/bwBWzvRvUVUvnOaEP6SNJvBi4RHxF5MHD
// SIG // cnrgcuck379GmcXvwhxX24ON7E1JMKerjt/sW5+v/N2w
// SIG // ZuLBl4F77dbtS+dJKacTKKanfWeA5opieF+yL4TXV5xc
// SIG // v3coKPHtbcMojyyPQDdPweGFRInECUzF1KVDL3SV9274
// SIG // eCBYLBNdYJWaPk8zhNqwiBfenk70lrC8RqBsmNLg1oiM
// SIG // CwIDAQABo4IB7TCCAekwEAYJKwYBBAGCNxUBBAMCAQAw
// SIG // HQYDVR0OBBYEFEhuZOVQBdOCqhc3NyK1bajKdQKVMBkG
// SIG // CSsGAQQBgjcUAgQMHgoAUwB1AGIAQwBBMAsGA1UdDwQE
// SIG // AwIBhjAPBgNVHRMBAf8EBTADAQH/MB8GA1UdIwQYMBaA
// SIG // FHItOgIxkEO5FAVO4eqnxzHRI4k0MFoGA1UdHwRTMFEw
// SIG // T6BNoEuGSWh0dHA6Ly9jcmwubWljcm9zb2Z0LmNvbS9w
// SIG // a2kvY3JsL3Byb2R1Y3RzL01pY1Jvb0NlckF1dDIwMTFf
// SIG // MjAxMV8wM18yMi5jcmwwXgYIKwYBBQUHAQEEUjBQME4G
// SIG // CCsGAQUFBzAChkJodHRwOi8vd3d3Lm1pY3Jvc29mdC5j
// SIG // b20vcGtpL2NlcnRzL01pY1Jvb0NlckF1dDIwMTFfMjAx
// SIG // MV8wM18yMi5jcnQwgZ8GA1UdIASBlzCBlDCBkQYJKwYB
// SIG // BAGCNy4DMIGDMD8GCCsGAQUFBwIBFjNodHRwOi8vd3d3
// SIG // Lm1pY3Jvc29mdC5jb20vcGtpb3BzL2RvY3MvcHJpbWFy
// SIG // eWNwcy5odG0wQAYIKwYBBQUHAgIwNB4yIB0ATABlAGcA
// SIG // YQBsAF8AcABvAGwAaQBjAHkAXwBzAHQAYQB0AGUAbQBl
// SIG // AG4AdAAuIB0wDQYJKoZIhvcNAQELBQADggIBAGfyhqWY
// SIG // 4FR5Gi7T2HRnIpsLlhHhY5KZQpZ90nkMkMFlXy4sPvjD
// SIG // ctFtg/6+P+gKyju/R6mj82nbY78iNaWXXWWEkH2LRlBV
// SIG // 2AySfNIaSxzzPEKLUtCw/WvjPgcuKZvmPRul1LUdd5Q5
// SIG // 4ulkyUQ9eHoj8xN9ppB0g430yyYCRirCihC7pKkFDJvt
// SIG // aPpoLpWgKj8qa1hJYx8JaW5amJbkg/TAj/NGK978O9C9
// SIG // Ne9uJa7lryft0N3zDq+ZKJeYTQ49C/IIidYfwzIY4vDF
// SIG // Lc5bnrRJOQrGCsLGra7lstnbFYhRRVg4MnEnGn+x9Cf4
// SIG // 3iw6IGmYslmJaG5vp7d0w0AFBqYBKig+gj8TTWYLwLNN
// SIG // 9eGPfxxvFX1Fp3blQCplo8NdUmKGwx1jNpeG39rz+PIW
// SIG // oZon4c2ll9DuXWNB41sHnIc+BncG0QaxdR8UvmFhtfDc
// SIG // xhsEvt9Bxw4o7t5lL+yX9qFcltgA1qFGvVnzl6UJS0gQ
// SIG // mYAf0AApxbGbpT9Fdx41xtKiop96eiL6SJUfq/tHI4D1
// SIG // nvi/a7dLl+LrdXga7Oo3mXkYS//WsyNodeav+vyL6wuA
// SIG // 6mk7r/ww7QRMjt/fdW1jkT3RnVZOT7+AVyKheBEyIXrv
// SIG // QQqxP/uozKRdwaGIm1dxVk5IRcBCyZt2WwqASGv9eZ/B
// SIG // vW1taslScxMNelDNMYIV6jCCFeYCAQEwgZUwfjELMAkG
// SIG // A1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0b24xEDAO
// SIG // BgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1pY3Jvc29m
// SIG // dCBDb3Jwb3JhdGlvbjEoMCYGA1UEAxMfTWljcm9zb2Z0
// SIG // IENvZGUgU2lnbmluZyBQQ0EgMjAxMQITMwAAADiNI20W
// SIG // J6Mm4AAAAAAAODANBglghkgBZQMEAgEFAKCB1DAZBgkq
// SIG // hkiG9w0BCQMxDAYKKwYBBAGCNwIBBDAcBgorBgEEAYI3
// SIG // AgELMQ4wDAYKKwYBBAGCNwIBFTAvBgkqhkiG9w0BCQQx
// SIG // IgQghUcgAGZ5bJ1vuZfF8PNvgRVbB0lwaNDtBFw8hM6c
// SIG // oGEwaAYKKwYBBAGCNwIBDDFaMFigPoA8AE0AaQBjAHIA
// SIG // bwBzAG8AZgB0ACAAVwBpAG4AZABvAHcAcwAgAEEAegB1
// SIG // AHIAZQAgAE0AbwBiAGkAbABloRaAFGh0dHA6Ly93d3cu
// SIG // YXNwLm5ldC8gMA0GCSqGSIb3DQEBAQUABIIBAGAu3oKX
// SIG // NzZvwQCoqyqcWuxd2HuO3BWV7++1OpgnK6GrtUH8M/7Q
// SIG // kEkgQw81aI48+gZTt8lqIn+fl4kNEAF3cu+h7AE/dAKI
// SIG // gPS9guyywDm+nADwnGvJXtKVaeLm5uAE8qo2fOcqQRKm
// SIG // AALjY6HJUhc2m2I4sVYWOOyKZp9eyvaOy/n8mxXEslz0
// SIG // 2lz0Wv2GQklRT9CgBWWTHA3bJERxRph5Kkae/IlYFA3v
// SIG // dDkmw8LnxGV+m5P9uPylsY15P08X50TEnqbh2KNR+hn8
// SIG // WEjQCegJ7dk1A8r16ulHgPCa6Q0j7BaN5blmcMAirY0R
// SIG // OXFZiG7H32arHzFuFNjksVFvwomhghNOMIITSgYKKwYB
// SIG // BAGCNwMDATGCEzowghM2BgkqhkiG9w0BBwKgghMnMIIT
// SIG // IwIBAzEPMA0GCWCGSAFlAwQCAQUAMIIBPQYLKoZIhvcN
// SIG // AQkQAQSgggEsBIIBKDCCASQCAQEGCisGAQQBhFkKAwEw
// SIG // MTANBglghkgBZQMEAgEFAAQgz4r64gVFSMpzYVpqAia0
// SIG // SxvYEjZswwyBQ+ZJ2goFvBECBlU5N/TG1RgTMjAxNTA0
// SIG // MjMyMjU1MjEuNzI3WjAHAgEBgAIB9KCBuaSBtjCBszEL
// SIG // MAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0b24x
// SIG // EDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1pY3Jv
// SIG // c29mdCBDb3Jwb3JhdGlvbjENMAsGA1UECxMETU9QUjEn
// SIG // MCUGA1UECxMebkNpcGhlciBEU0UgRVNOOkI4RUMtMzBB
// SIG // NC03MTQ0MSUwIwYDVQQDExxNaWNyb3NvZnQgVGltZS1T
// SIG // dGFtcCBTZXJ2aWNloIIO0TCCBnEwggRZoAMCAQICCmEJ
// SIG // gSoAAAAAAAIwDQYJKoZIhvcNAQELBQAwgYgxCzAJBgNV
// SIG // BAYTAlVTMRMwEQYDVQQIEwpXYXNoaW5ndG9uMRAwDgYD
// SIG // VQQHEwdSZWRtb25kMR4wHAYDVQQKExVNaWNyb3NvZnQg
// SIG // Q29ycG9yYXRpb24xMjAwBgNVBAMTKU1pY3Jvc29mdCBS
// SIG // b290IENlcnRpZmljYXRlIEF1dGhvcml0eSAyMDEwMB4X
// SIG // DTEwMDcwMTIxMzY1NVoXDTI1MDcwMTIxNDY1NVowfDEL
// SIG // MAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0b24x
// SIG // EDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1pY3Jv
// SIG // c29mdCBDb3Jwb3JhdGlvbjEmMCQGA1UEAxMdTWljcm9z
// SIG // b2Z0IFRpbWUtU3RhbXAgUENBIDIwMTAwggEiMA0GCSqG
// SIG // SIb3DQEBAQUAA4IBDwAwggEKAoIBAQCpHQ28dxGKOiDs
// SIG // /BOX9fp/aZRrdFQQ1aUKAIKF++18aEssX8XD5WHCdrc+
// SIG // Zitb8BVTJwQxH0EbGpUdzgkTjnxhMFmxMEQP8WCIhFRD
// SIG // DNdNuDgIs0Ldk6zWczBXJoKjRQ3Q6vVHgc2/JGAyWGBG
// SIG // 8lhHhjKEHnRhZ5FfgVSxz5NMksHEpl3RYRNuKMYa+YaA
// SIG // u99h/EbBJx0kZxJyGiGKr0tkiVBisV39dx898Fd1rL2K
// SIG // Qk1AUdEPnAY+Z3/1ZsADlkR+79BL/W7lmsqxqPJ6Kgox
// SIG // 8NpOBpG2iAg16HgcsOmZzTznL0S6p/TcZL2kAcEgCZN4
// SIG // zfy8wMlEXV4WnAEFTyJNAgMBAAGjggHmMIIB4jAQBgkr
// SIG // BgEEAYI3FQEEAwIBADAdBgNVHQ4EFgQU1WM6XIoxkPND
// SIG // e3xGG8UzaFqFbVUwGQYJKwYBBAGCNxQCBAweCgBTAHUA
// SIG // YgBDAEEwCwYDVR0PBAQDAgGGMA8GA1UdEwEB/wQFMAMB
// SIG // Af8wHwYDVR0jBBgwFoAU1fZWy4/oolxiaNE9lJBb186a
// SIG // GMQwVgYDVR0fBE8wTTBLoEmgR4ZFaHR0cDovL2NybC5t
// SIG // aWNyb3NvZnQuY29tL3BraS9jcmwvcHJvZHVjdHMvTWlj
// SIG // Um9vQ2VyQXV0XzIwMTAtMDYtMjMuY3JsMFoGCCsGAQUF
// SIG // BwEBBE4wTDBKBggrBgEFBQcwAoY+aHR0cDovL3d3dy5t
// SIG // aWNyb3NvZnQuY29tL3BraS9jZXJ0cy9NaWNSb29DZXJB
// SIG // dXRfMjAxMC0wNi0yMy5jcnQwgaAGA1UdIAEB/wSBlTCB
// SIG // kjCBjwYJKwYBBAGCNy4DMIGBMD0GCCsGAQUFBwIBFjFo
// SIG // dHRwOi8vd3d3Lm1pY3Jvc29mdC5jb20vUEtJL2RvY3Mv
// SIG // Q1BTL2RlZmF1bHQuaHRtMEAGCCsGAQUFBwICMDQeMiAd
// SIG // AEwAZQBnAGEAbABfAFAAbwBsAGkAYwB5AF8AUwB0AGEA
// SIG // dABlAG0AZQBuAHQALiAdMA0GCSqGSIb3DQEBCwUAA4IC
// SIG // AQAH5ohRDeLG4Jg/gXEDPZ2joSFvs+umzPUxvs8F4qn+
// SIG // +ldtGTCzwsVmyWrf9efweL3HqJ4l4/m87WtUVwgrUYJE
// SIG // Evu5U4zM9GASinbMQEBBm9xcF/9c+V4XNZgkVkt070IQ
// SIG // yK+/f8Z/8jd9Wj8c8pl5SpFSAK84Dxf1L3mBZdmptWvk
// SIG // x872ynoAb0swRCQiPM/tA6WWj1kpvLb9BOFwnzJKJ/1V
// SIG // ry/+tuWOM7tiX5rbV0Dp8c6ZZpCM/2pif93FSguRJuI5
// SIG // 7BlKcWOdeyFtw5yjojz6f32WapB4pm3S4Zz5Hfw42JT0
// SIG // xqUKloakvZ4argRCg7i1gJsiOCC1JeVk7Pf0v35jWSUP
// SIG // ei45V3aicaoGig+JFrphpxHLmtgOR5qAxdDNp9DvfYPw
// SIG // 4TtxCd9ddJgiCGHasFAeb73x4QDf5zEHpJM692VHeOj4
// SIG // qEir995yfmFrb3epgcunCaw5u+zGy9iCtHLNHfS4hQEe
// SIG // gPsbiSpUObJb2sgNVZl6h3M7COaYLeqN4DMuEin1wC9U
// SIG // JyH3yKxO2ii4sanblrKnQqLJzxlBTeCG+SqaoxFmMNO7
// SIG // dDJL32N79ZmKLxvHIa9Zta7cRDyXUHHXodLFVeNp3lfB
// SIG // 0d4wwP3M5k37Db9dT+mdHhk4L7zPWAUu7w2gUDXa7wkn
// SIG // HNWzfjUeCLraNtvTX4/edIhJEjCCBNowggPCoAMCAQIC
// SIG // EzMAAABUToarg5Ny1ukAAAAAAFQwDQYJKoZIhvcNAQEL
// SIG // BQAwfDELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hp
// SIG // bmd0b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoT
// SIG // FU1pY3Jvc29mdCBDb3Jwb3JhdGlvbjEmMCQGA1UEAxMd
// SIG // TWljcm9zb2Z0IFRpbWUtU3RhbXAgUENBIDIwMTAwHhcN
// SIG // MTUwMzIwMTczMjI3WhcNMTYwNjIwMTczMjI3WjCBszEL
// SIG // MAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0b24x
// SIG // EDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1pY3Jv
// SIG // c29mdCBDb3Jwb3JhdGlvbjENMAsGA1UECxMETU9QUjEn
// SIG // MCUGA1UECxMebkNpcGhlciBEU0UgRVNOOkI4RUMtMzBB
// SIG // NC03MTQ0MSUwIwYDVQQDExxNaWNyb3NvZnQgVGltZS1T
// SIG // dGFtcCBTZXJ2aWNlMIIBIjANBgkqhkiG9w0BAQEFAAOC
// SIG // AQ8AMIIBCgKCAQEAsrfLTsR5DX/jFoOdcS4wvQSUFzQE
// SIG // t6A4ySeQPRc+BaEJG2U4a4MlmcQtrxBVc4vE6/YtifmY
// SIG // +DFnAaMrQvVpmsL+T+t3lgkRUZY2XiULLZqfQdPSpy40
// SIG // XtBwKT8J3LsF6BiYDBP4kaWeCU6TROXB1JeBbrcOhtP7
// SIG // X+8MQLJsrZZy+pfxAhsxttMFOB8IQzJHsS2KkUSOtfC0
// SIG // 9QnMRZNx8R2WVkLNlWi4aKhAUnJXlFr7d3/r+eC+83io
// SIG // XqbHqpC3UQF/HyWsXB57PwqxEN7PMs6fotccNpSaHBWd
// SIG // 9QgKim7P/xYRlypZ2objSbpdHz5Sij9vQcfrT7fgTChU
// SIG // LexlywIDAQABo4IBGzCCARcwHQYDVR0OBBYEFLU7CgHD
// SIG // qffOwvKob7sUro6Wp/bCMB8GA1UdIwQYMBaAFNVjOlyK
// SIG // MZDzQ3t8RhvFM2hahW1VMFYGA1UdHwRPME0wS6BJoEeG
// SIG // RWh0dHA6Ly9jcmwubWljcm9zb2Z0LmNvbS9wa2kvY3Js
// SIG // L3Byb2R1Y3RzL01pY1RpbVN0YVBDQV8yMDEwLTA3LTAx
// SIG // LmNybDBaBggrBgEFBQcBAQROMEwwSgYIKwYBBQUHMAKG
// SIG // Pmh0dHA6Ly93d3cubWljcm9zb2Z0LmNvbS9wa2kvY2Vy
// SIG // dHMvTWljVGltU3RhUENBXzIwMTAtMDctMDEuY3J0MAwG
// SIG // A1UdEwEB/wQCMAAwEwYDVR0lBAwwCgYIKwYBBQUHAwgw
// SIG // DQYJKoZIhvcNAQELBQADggEBAH2e2kjNV+oS0SIwFDbX
// SIG // 3BnUaCfJGvZyNNoB4FP/Rn9DhMH4mlGEoGJtBRBmliJO
// SIG // RhekmqHRtUz/sbzE24NOU0pUJ/Y/89VK2mLYAdcJt4Zd
// SIG // jjZf5vNlcrcNan3FVKsXFrRRbCr0aj93iWmJXj9qFq84
// SIG // XhZ4yVZ1nRF7Lw3BiZDxEOhy+B5ktztI9IZaX0hF/Bp4
// SIG // xsRzH4HTo4d1rPurLzNeFKmPTqA9CowiUbimn7xgpotu
// SIG // VzQGkZ2QFZcLTtyEk8YGJsRNds9Un6DZXnj5zRnC56rd
// SIG // E8thAafCCs9eQtMz7rLjMTIBXDuftZW54qVp693Fv791
// SIG // ITBs+rN4p3s5B8yhggN6MIICYgIBATCB46GBuaSBtjCB
// SIG // szELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0
// SIG // b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1p
// SIG // Y3Jvc29mdCBDb3Jwb3JhdGlvbjENMAsGA1UECxMETU9Q
// SIG // UjEnMCUGA1UECxMebkNpcGhlciBEU0UgRVNOOkI4RUMt
// SIG // MzBBNC03MTQ0MSUwIwYDVQQDExxNaWNyb3NvZnQgVGlt
// SIG // ZS1TdGFtcCBTZXJ2aWNloiUKAQEwCQYFKw4DAhoFAAMV
// SIG // AEhYwl49494F7H/f+ehEDQOX0VAToIHCMIG/pIG8MIG5
// SIG // MQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3Rv
// SIG // bjEQMA4GA1UEBxMHUmVkbW9uZDEeMBwGA1UEChMVTWlj
// SIG // cm9zb2Z0IENvcnBvcmF0aW9uMQ0wCwYDVQQLEwRNT1BS
// SIG // MScwJQYDVQQLEx5uQ2lwaGVyIE5UUyBFU046NTdGNi1D
// SIG // MUUwLTU1NEMxKzApBgNVBAMTIk1pY3Jvc29mdCBUaW1l
// SIG // IFNvdXJjZSBNYXN0ZXIgQ2xvY2swDQYJKoZIhvcNAQEF
// SIG // BQACBQDY47ZwMCIYDzIwMTUwNDIzMTgyMDMyWhgPMjAx
// SIG // NTA0MjQxODIwMzJaMHgwPgYKKwYBBAGEWQoEATEwMC4w
// SIG // CgIFANjjtnACAQAwCwIBAAIDCeOOAgH/MAcCAQACAhYT
// SIG // MAoCBQDY5QfwAgEAMDYGCisGAQQBhFkKBAIxKDAmMAwG
// SIG // CisGAQQBhFkKAwGgCjAIAgEAAgMW42ChCjAIAgEAAgMH
// SIG // oSAwDQYJKoZIhvcNAQEFBQADggEBAF+aD7VQZtUPpkAb
// SIG // FfUkP7QkKc0QVb8QhZvvEMT29Z9xlOaCF2P0y1guiAXO
// SIG // SXQL0svQ04XF0l+pHJuVDXYcf1EvfSFly01eVYUCHGeQ
// SIG // FH3EsnYWZ1iPV70NwP0QSXwLRXCxMC0pLRYnK+uO8ye0
// SIG // QrVCuj/xe/t71eiM+2Lsxj1uq/xfG66Rg3EMtIw1IjJP
// SIG // NPQXPXJmRo8r+HITnCtFVv0bAxeTXiE6ahyTaKvjC5sG
// SIG // vFw0xtB0NJzI88qYWcnNboGDcXhVPl6CqwcUD62edaYx
// SIG // hqvjjJVtjHxyKK7VG80Lmj81gw3VIkWgRoeDBubl/7Dt
// SIG // oTYEZJr3eRj0ThMPNDQxggL1MIIC8QIBATCBkzB8MQsw
// SIG // CQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQ
// SIG // MA4GA1UEBxMHUmVkbW9uZDEeMBwGA1UEChMVTWljcm9z
// SIG // b2Z0IENvcnBvcmF0aW9uMSYwJAYDVQQDEx1NaWNyb3Nv
// SIG // ZnQgVGltZS1TdGFtcCBQQ0EgMjAxMAITMwAAAFROhquD
// SIG // k3LW6QAAAAAAVDANBglghkgBZQMEAgEFAKCCATIwGgYJ
// SIG // KoZIhvcNAQkDMQ0GCyqGSIb3DQEJEAEEMC8GCSqGSIb3
// SIG // DQEJBDEiBCA0opv12KLV0AYIzfuv8LG1xrmykm2xdWDm
// SIG // 1MgX5JpB3DCB4gYLKoZIhvcNAQkQAgwxgdIwgc8wgcww
// SIG // gbEEFEhYwl49494F7H/f+ehEDQOX0VATMIGYMIGApH4w
// SIG // fDELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0
// SIG // b24xEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1p
// SIG // Y3Jvc29mdCBDb3Jwb3JhdGlvbjEmMCQGA1UEAxMdTWlj
// SIG // cm9zb2Z0IFRpbWUtU3RhbXAgUENBIDIwMTACEzMAAABU
// SIG // Toarg5Ny1ukAAAAAAFQwFgQUpn2Zne1QBVnsgSZuanZz
// SIG // rTdkqPMwDQYJKoZIhvcNAQELBQAEggEATk7/fCqHbGCS
// SIG // r1M3YvJKU03C2+df7K4e351mlromG5TumCHoAe/Vjr0H
// SIG // eN0eq2BAv69INeZWYqB8z9S1s060lS7znyilHNHj//Se
// SIG // 7cDFMhw7GWkamx+fX5RBQDgx5/rwsuFBIaa0Db/jWSSP
// SIG // saG1DZt7jpmb4I2H5z73Z128jWVYmXpIHUf8v+PcAivu
// SIG // CbIeufJlt/QmX6d9vj/UvSXYCO57FrkieSYxS5gU1ti5
// SIG // HiAexeCxvx2J9DhWRNDCCXBIkNdqkUvdtMLJqehT9x+R
// SIG // FkK6bNimImDXYIaOioKugKzRwLWqdEgk9Eq0doaEtKwM
// SIG // 0LJzMc1R07m8u0TmgXa1aA==
// SIG // End signature block
